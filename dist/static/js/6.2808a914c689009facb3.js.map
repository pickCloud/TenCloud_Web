{"version":3,"sources":["webpack:///static/js/6.2808a914c689009facb3.js","webpack:///./src/components/UserInfo.vue","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///UserInfo.vue","webpack:///./src/components/UserInfo.vue?4bcb","webpack:///./src/components/UserInfo.vue?7e63","webpack:///./src/components/UserInfo.vue?60dd"],"names":["webpackJsonp","147","module","exports","__webpack_require__","Component","161","default","__esModule","165","core","$JSON","JSON","stringify","it","apply","arguments","201","Object","defineProperty","value","_stringify","_stringify2","obj","data","infos","id","name","mobile","email","image_url","isEditor","updateing","thumbFile","watch","n","o","this","changeInpState","methods","getApiData","_this","$Global","async","getData","then","d","$el","querySelectorAll","forEach","v","i","removeAttribute","setAttribute","cancelHandle","parse","temp_data","editorHandle","checkChangeData","old","result","key","ov","nv","sureHandle","_this2","cdata","$toast","message","headHeigth","headel","querySelector","style","height","clientWidth","getThumbToken","console","log","mounted","created","_this3","resizeFunc","window","addEventListener","destroyed","removeEventListener","211","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","218","content","locals","236","render","_vm","_h","$createElement","_c","_self","staticClass","slot","_v","_e","nativeOn","click","$event","_s","directives","rawName","expression","class","editor","attrs","type","domProps","on","input","target","composing","title","gutter","src","alt","staticStyle","line-height","for","staticRenderFns"],"mappings":"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","file":"static/js/6.2808a914c689009facb3.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(218)\n\nvar Component = __webpack_require__(7)(\n  /* script */\n  __webpack_require__(201),\n  /* template */\n  __webpack_require__(236),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(165), __esModule: true };\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(3)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(161);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      infos: {\n        'id': 1,\n        'name': '',\n        'mobile': '',\n        'email': '',\n        'image_url': ''\n      },\n      isEditor: false,\n      updateing: false,\n      thumbFile: ''\n    };\n  },\n  watch: {\n    isEditor: function isEditor(n, o) {\n      this.changeInpState(n);\n    }\n  },\n  methods: {\n    getApiData: function getApiData() {\n      var _this = this;\n\n      this.$Global.async('user_info').getData(null).then(function (d) {\n        _this.infos = d.data;\n      });\n    },\n    changeInpState: function changeInpState(n) {\n      this.$el.querySelectorAll('.inp-editor').forEach(function (v, i) {\n        if (!n) v.setAttribute('disabled', true);else v.removeAttribute('disabled');\n      });\n    },\n    cancelHandle: function cancelHandle() {\n      this.isEditor = false;\n      this.infos = JSON.parse(this.temp_data);\n    },\n    editorHandle: function editorHandle() {\n      this.isEditor = true;\n      this.temp_data = (0, _stringify2.default)(this.infos);\n    },\n    checkChangeData: function checkChangeData() {\n      var old = JSON.parse(this.temp_data);\n      var result = null;\n      for (var key in this.infos) {\n        var ov = old[key];\n        var nv = this.infos[key];\n        if (nv !== ov) {\n          if (result === null) result = {};\n          result[key] = nv;\n        }\n      }\n      return result;\n    },\n    sureHandle: function sureHandle() {\n      var _this2 = this;\n\n      var cdata = this.checkChangeData();\n      if (cdata === null || this.updateing) return;\n\n      this.updateing = true;\n      this.$Global.async('user_update', true).getData(cdata).then(function (d) {\n        _this2.$toast(d.message, 'cc');\n        _this2.isEditor = false;\n        _this2.updateing = false;\n      });\n    },\n    headHeigth: function headHeigth() {\n      var headel = this.$el.querySelector('.info-head');\n      headel.style.height = headel.clientWidth + 'px';\n    },\n    getThumbToken: function getThumbToken() {\n      this.$Global.async('user_thumb_token', true).getData(null).then(function (d) {\n        console.log(d);\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.changeInpState(false);\n    this.headHeigth();\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.getApiData();\n    this.resizeFunc = function () {\n      _this3.headHeigth();\n    };\n    window.addEventListener('resize', this.resizeFunc);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('resize', this.resizeFunc);\n  }\n};\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(135)();\n// imports\n\n\n// module\nexports.push([module.i, \".info-head{width:50%;margin:0 auto;border-radius:50%;background-color:#1d212a}.info-head img{width:100%}\", \"\", {\"version\":3,\"sources\":[\"/Users/10com/FrontEnd/src/components/UserInfo.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,UAAW,AACX,cAAe,AACf,kBAAmB,AACnB,wBAA0B,CAC3B,AACD,eACI,UAAY,CACf\",\"file\":\"UserInfo.vue\",\"sourcesContent\":[\"\\n.info-head {\\n  width: 50%;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  background-color: #1d212a;\\n}\\n.info-head img {\\n    width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(211);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(136)(\"5c563cb8\", content, true);\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-userinfo\"\n  }, [_c('panel', {\n    staticClass: \"m-b16\"\n  }, [_c('div', {\n    staticClass: \"panel-title\",\n    slot: \"title\"\n  }, [_vm._v(\"\\n      账号安全\\n      \"), (!_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editorHandle($event)\n      }\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelHandle($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04 m-r8\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.sureHandle($event)\n      }\n    }\n  }, [_vm._v(\"保存\")]) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"手机号码\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.infos.mobile) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.infos.email),\n      expression: \"infos.email\"\n    }],\n    staticClass: \"inp-editor\",\n    class: {\n      'editor': _vm.isEditor\n    },\n    attrs: {\n      \"type\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.infos.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.infos.email = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('panel', {\n    attrs: {\n      \"title\": \"基本信息\"\n    }\n  }, [_c('m-row', {\n    staticClass: \"p-16\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('m-col', {\n    staticClass: \"xs-12 md-4 text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"info-head m-b16\"\n  }, [(_vm.infos.image_url) ? _c('img', {\n    attrs: {\n      \"src\": _vm.infos.image_url,\n      \"alt\": \"\"\n    }\n  }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"formbylabel file theme-dft\",\n    staticStyle: {\n      \"height\": \"32px\",\n      \"line-height\": \"32px\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"a5wpj6gl9z\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    staticClass: \"file-label\",\n    attrs: {\n      \"for\": \"a5wpj6gl9z\"\n    }\n  }, [_vm._v(\"修改头像\")])])]), _vm._v(\" \"), _c('p', [_c('i', {\n    staticClass: \"icon icon-xinxi-yin m-r8\"\n  }), _vm._v(\"仅支持JPG、PNG格式，文件小于1M（方形图）\")])]), _vm._v(\" \"), _c('m-col', {\n    staticClass: \"xs-12 md-8\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"姓名\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-bg\"\n  }, [_vm._v(_vm._s(_vm.infos.name))])])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.2808a914c689009facb3.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-799a56f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserInfo.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-799a56f8\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserInfo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserInfo.vue\n// module id = 147\n// module chunks = 6","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 161\n// module chunks = 6 8","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 165\n// module chunks = 6 8","<template>\n  <div class='page-pad page-userinfo'>\n    <panel class='m-b16'>\n      <div class=\"panel-title\" slot=\"title\">\n        账号安全\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04\" v-if=\"!isEditor\" @click.native=\"editorHandle\">修改</m-btn>\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04\" v-if=\"isEditor\" @click.native=\"cancelHandle\">取消</m-btn>\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04 m-r8\" v-if=\"isEditor\" @click.native=\"sureHandle\">保存</m-btn>\n      </div>\n      <div class=\"p-16\">\n        <!--<div class=\"lay-left-right\">-->\n          <!--<div class=\"lay-left\">账号</div>-->\n          <!--<div class=\"lay-right lay-border-bottom\">-->\n            <!--<input type=\"text\" class=\"inp-editor\" :class=\"{'editor':isEditor}\" v-model=\"infos.name\">-->\n          <!--</div>-->\n        <!--</div>-->\n        <div class=\"lay-left-right\">\n          <div class=\"lay-left\">手机号码</div>\n          <div class=\"lay-right lay-border-bottom\">\n            {{infos.mobile}}\n          </div>\n        </div>\n        <div class=\"lay-left-right\">\n          <div class=\"lay-left\">邮箱</div>\n          <div class=\"lay-right lay-border-bottom\">\n            <input type=\"email\" class=\"inp-editor\" :class=\"{'editor':isEditor}\" v-model=\"infos.email\">\n          </div>\n        </div>\n      </div>\n    </panel>\n    <panel title='基本信息'>\n      <m-row class=\"p-16\" :gutter=\"16\">\n        <m-col class=\"xs-12 md-4 text-center m-b16\">\n          <div class=\"info-head m-b16\">\n            <img :src=\"infos.image_url\" alt=\"\" v-if=\"infos.image_url\">\n          </div>\n          <div class=\"text-center m-b16\">\n            <div class=\"formbylabel file theme-dft\" style=\"height: 32px; line-height: 32px;\">\n              <input type=\"file\" id=\"a5wpj6gl9z\">\n              <label for=\"a5wpj6gl9z\" class=\"file-label\">修改头像</label>\n            </div>\n            <!--<m-btn class=\"lay-border\">修改头像</m-btn>-->\n          </div>\n          <p><i class=\"icon icon-xinxi-yin m-r8\"></i>仅支持JPG、PNG格式，文件小于1M（方形图）</p>\n        </m-col>\n        <m-col class=\"xs-12 md-8\">\n          <div class=\"lay-left-right\">\n            <div class=\"lay-left\">姓名</div>\n            <div class=\"lay-right lay-bg\">{{infos.name}}</div>\n          </div>\n        </m-col>\n      </m-row>\n    </panel>\n  </div>\n</template>\n\n<script>\n  export default {\n    data: () => ({\n      infos: {\n        'id': 1,\n        'name': '',\n        'mobile': '',\n        'email': '',\n        'image_url': ''\n      },\n      isEditor: false,\n      updateing: false,\n      thumbFile: ''\n    }),\n    watch: {\n      isEditor (n, o) {\n        this.changeInpState(n)\n      }\n    },\n    methods: {\n      getApiData () {\n        this.$Global.async('user_info').getData(null).then(d => {\n          this.infos = d.data\n        })\n      },\n      changeInpState (n) {\n        this.$el.querySelectorAll('.inp-editor').forEach((v, i) => {\n          if (!n) v.setAttribute('disabled', true)\n          else v.removeAttribute('disabled')\n        })\n      },\n      cancelHandle () {\n        this.isEditor = false\n        this.infos = JSON.parse(this.temp_data)\n      },\n      editorHandle () {\n        this.isEditor = true\n        this.temp_data = JSON.stringify(this.infos)\n      },\n      checkChangeData () {\n        const old = JSON.parse(this.temp_data)\n        let result = null\n        for (let key in this.infos) {\n          let ov = old[key]\n          let nv = this.infos[key]\n          if (nv !== ov) {\n            if (result === null) result = {}\n            result[key] = nv\n          }\n        }\n        return result\n      },\n      sureHandle () {\n        let cdata = this.checkChangeData()\n        if (cdata === null || this.updateing) return\n\n        this.updateing = true\n        this.$Global.async('user_update', true).getData(cdata).then(d => {\n          this.$toast(d.message, 'cc')\n          this.isEditor = false\n          this.updateing = false\n        })\n      },\n      headHeigth () {\n        const headel = this.$el.querySelector('.info-head')\n        headel.style.height = headel.clientWidth + 'px'\n      },\n      getThumbToken () {\n        this.$Global.async('user_thumb_token', true).getData(null).then(d => {\n          console.log(d)\n        })\n      }\n    },\n    mounted () {\n      this.changeInpState(false)\n      this.headHeigth()\n    },\n    created () {\n      this.getApiData()\n      this.resizeFunc = () => {\n        this.headHeigth()\n//        console.log(22)\n      }\n      window.addEventListener('resize', this.resizeFunc)\n    },\n    destroyed () {\n      window.removeEventListener('resize', this.resizeFunc)\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .info-head {\n    width: 50%;\n    margin: 0 auto;\n    border-radius: 50%;\n    background-color: #1d212a;\n    img {\n      width: 100%;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// UserInfo.vue?1cb0a402","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".info-head{width:50%;margin:0 auto;border-radius:50%;background-color:#1d212a}.info-head img{width:100%}\", \"\", {\"version\":3,\"sources\":[\"/Users/10com/FrontEnd/src/components/UserInfo.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,UAAW,AACX,cAAe,AACf,kBAAmB,AACnB,wBAA0B,CAC3B,AACD,eACI,UAAY,CACf\",\"file\":\"UserInfo.vue\",\"sourcesContent\":[\"\\n.info-head {\\n  width: 50%;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  background-color: #1d212a;\\n}\\n.info-head img {\\n    width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-799a56f8\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UserInfo.vue\n// module id = 211\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-799a56f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./UserInfo.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5c563cb8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-799a56f8\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UserInfo.vue\n// module id = 218\n// module chunks = 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-userinfo\"\n  }, [_c('panel', {\n    staticClass: \"m-b16\"\n  }, [_c('div', {\n    staticClass: \"panel-title\",\n    slot: \"title\"\n  }, [_vm._v(\"\\n      账号安全\\n      \"), (!_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editorHandle($event)\n      }\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelHandle($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04 m-r8\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.sureHandle($event)\n      }\n    }\n  }, [_vm._v(\"保存\")]) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"手机号码\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.infos.mobile) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.infos.email),\n      expression: \"infos.email\"\n    }],\n    staticClass: \"inp-editor\",\n    class: {\n      'editor': _vm.isEditor\n    },\n    attrs: {\n      \"type\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.infos.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.infos.email = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('panel', {\n    attrs: {\n      \"title\": \"基本信息\"\n    }\n  }, [_c('m-row', {\n    staticClass: \"p-16\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('m-col', {\n    staticClass: \"xs-12 md-4 text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"info-head m-b16\"\n  }, [(_vm.infos.image_url) ? _c('img', {\n    attrs: {\n      \"src\": _vm.infos.image_url,\n      \"alt\": \"\"\n    }\n  }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"formbylabel file theme-dft\",\n    staticStyle: {\n      \"height\": \"32px\",\n      \"line-height\": \"32px\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"a5wpj6gl9z\"\n    }\n  }), _vm._v(\" \"), _c('label', {\n    staticClass: \"file-label\",\n    attrs: {\n      \"for\": \"a5wpj6gl9z\"\n    }\n  }, [_vm._v(\"修改头像\")])])]), _vm._v(\" \"), _c('p', [_c('i', {\n    staticClass: \"icon icon-xinxi-yin m-r8\"\n  }), _vm._v(\"仅支持JPG、PNG格式，文件小于1M（方形图）\")])]), _vm._v(\" \"), _c('m-col', {\n    staticClass: \"xs-12 md-8\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"姓名\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-bg\"\n  }, [_vm._v(_vm._s(_vm.infos.name))])])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-799a56f8\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserInfo.vue\n// module id = 236\n// module chunks = 6"],"sourceRoot":""}