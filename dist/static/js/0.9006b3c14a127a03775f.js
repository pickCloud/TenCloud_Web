webpackJsonp([0],{138:function(t,e,s){var a=s(7)(s(179),s(150),null,null);t.exports=a.exports},143:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(53),i=function(t){return t&&t.__esModule?t:{default:t}}(a),n={theme:"comb-msg",hasClose:!1,buttons:[{label:"确定",theme:""},{label:"取消",theme:""}]};e.default={methods:{popperDelete:function(t,e){var s=this.$createElement;this.$confirm((0,i.default)({},n,{content:s("div",[s("img",{attrs:{src:"./static/img/error_icon.png",class:"vam m-r16"}}),s("span",{attrs:{class:"vam"}},"您确定删除主机"+t+"吗？")])}),function(t){0===(arguments.length<=1?void 0:arguments[1])&&e&&e.call(),t.actionPopper(!1)})},popperInfo:function(t,e,s){this.$confirm((0,i.default)({},n,{content:t}),function(t){0===(arguments.length<=1?void 0:arguments[1])?e&&e.call():s&&s.call(),t.actionPopper(!1)})}}}},144:function(t,e,s){t.exports=s.p+"static/img/spin.84f7c1b.gif"},145:function(t,e,s){var a=s(2),i=s(3),n=s(26),o=s(146),r=s(8).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=n?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:o.f(t)})}},146:function(t,e,s){e.f=s(1)},147:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={data:function(){return{cpu:[],memory:[],disk:[],performance:"server_performance"}},methods:{formatDate:function(t){return[new Date(1e3*t[0]).Format("yyyy/MM/dd hh:mm:ss"),t[1].percent,this.tipinfo(t)]},tipinfo:function(t){var e=t[1],s='<p class="tooltip-title">'+new Date(1e3*t[0]).Format("yyyy/MM/dd hh:mm:ss")+'</p><p class="tooltip-body"><i class="tooltip-dian"></i>使用率：'+e.percent+"%";return e.free&&(s+='<br><i class="tooltip-dian"></i>空余：'+this.toG(e.free)+"G"),e.total&&(s+='<br><i class="tooltip-dian"></i>总量：'+this.toG(e.total)+"G"),s+"</p>"},formatDisk:function(t){var e=t[0][1].free,s=t[0][1].total;return[{value:this.toG(s-e),name:"使用",itemStyle:{normal:{color:"#48bbc0"}}},{value:this.toG(e),name:"空余",itemStyle:{normal:{color:"#ffe0b2"}}}]},toG:function(t){return(t/1024/1024/1024).toFixed(2)},getPerformance:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=new Date,a=new Date(s.getTime()-6e4*e);this.$Global.async(this.performance,!0).getData({id:this.machineid,start_time:Date.parse(a)/1e3,end_time:Date.parse(s)/1e3}).then(function(e){if(0===e.status){var s=e.data;s.cpu.length>20&&(s.cpu=s.cpu.slice(-20));for(var a in s.cpu)s.cpu[a]=t.formatDate(s.cpu[a]);t.chartData("cpu",s.cpu),s.memory.length>20&&(s.memory=s.memory.slice(-20));for(var i in s.memory)s.memory[i]=t.formatDate(s.memory[i]);t.chartData("memory",s.memory),s.disk.length>20&&(s.disk=s.disk.slice(-20));for(var n in s.disk)s.disk[n]=t.formatDate(s.disk[n]);t.chartData("disk",s.disk),t.temptimeout=setTimeout(function(e){t.getPerformance(1),clearTimeout(t.temptimeout)},6e4)}})},chartData:function(t,e){var s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;0===this[t].length?this[t]=e.slice(e.length-a):e.forEach(function(e,i){s[t].length>=a&&s[t].shift(),s[t].push(e)})}},mounted:function(){this.getPerformance(60)},beforeDestroy:function(){this.temptimeout&&clearTimeout(this.temptimeout)}}},148:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={business:{0:["运行中","primary_bg alpha-black_txt"],1:["已停止","pink_bg alpha-black_txt"],2:["启动中","primary_bg alpha-black_txt"],3:["停止中","pink_bg alpha-black_txt"],4:["满负载","pink_bg alpha-black_txt"]},machine:{Pending:["准备中","primary_bg alpha-black_txt","run"],Stopped:["已停止","pink_bg alpha-black_txt","stop"],Starting:["启动中","primary_bg alpha-black_txt","run"],Running:["运行中","primary_bg alpha-black_txt","run"],Stopping:["停止中","pink_bg alpha-black_txt","stop"],Deleted:["已释放","pink_bg alpha-black_txt","stop"]},server:{server_start:[3,"Starting","Running","机器启动中，请耐心等待","开机"],server_stop:[30,"Stopping","Stopped","机器关机中，请耐心等待","关机"],server_reboot:[30,"Stopping","Running","机器重启中，请耐心等待","重启机器"]}}},149:function(t,e,s){var a=s(58),i=s(29).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,i)}},150:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-pad page-machine-detail"},[a("m-row",{attrs:{gutter:16}},[a("m-col",{staticClass:"xs-12 lg-8"},[a("panel",{staticClass:"m-b16"},[a("div",{staticClass:"panel-title",slot:"title"},[a("span",{staticClass:"bold m-r8"},[t._v("监控")])]),t._v(" "),a("m-row",{staticClass:"mdc-chart",attrs:{gutter:16}},[a("m-col",{staticClass:"xs-12 lg-6"},[a("panel",{staticClass:"p-b16",attrs:{title:"CPU(%)"}},[a("div",{staticClass:"panel-body"},[a("e-line",{attrs:{data:t.cpu,label:"CPU使用率"}})],1)])],1),t._v(" "),a("m-col",{staticClass:"xs-12 lg-6"},[a("panel",{staticClass:"p-b16",attrs:{title:"内存(%)"}},[a("div",{staticClass:"panel-body"},[a("e-line",{attrs:{data:t.memory,label:"内存使用率","border-color":"#eb6565",linearg:["rgba(235,101,101,1)","rgba(235,101,101,0)"]}})],1)])],1),t._v(" "),a("m-col",{staticClass:"xs-12 lg-6"},[a("panel",{staticClass:"p-b16",attrs:{title:"硬盘使用情况(%)"}},[a("div",{staticClass:"panel-body"},[a("e-line",{attrs:{data:t.disk,label:"硬盘使用率","border-color":"#95c099",linearg:["rgba(93,117,103,1)","rgba(93,117,103,0)"]}})],1)])],1),t._v(" "),a("m-col",{staticClass:"xs-12 lg-6"},[a("panel",{staticClass:"p-b16",attrs:{title:"网络"}})],1)],1)],1)],1),t._v(" "),a("m-col",{staticClass:"xs-12 lg-4"},[a("panel",{staticClass:"m-b16"},[a("div",{staticClass:"panel-title clearfix",slot:"title"},[a("span",{staticClass:"bold"},[t._v("基本信息")]),t._v(" "),a("span",{staticClass:"right editor-btn-group"},[t.isInfoEditor?t._e():a("span",{on:{click:t.editorBegin}},[a("m-btn",{attrs:{sizeh:-1}},[a("span",{staticClass:"vam"},[t._v("修改")]),t._v(" "),a("i",{staticClass:"icon icon-editor vam"})])],1),t._v(" "),t.isInfoEditor?a("span",{on:{click:t.editorSure}},[a("m-btn",{attrs:{sizeh:-1}},[t._v("确定")])],1):t._e(),t._v(" "),t.isInfoEditor?a("span",{on:{click:t.editorCancel}},[a("m-btn",{attrs:{sizeh:-1}},[t._v("取消")])],1):t._e()])]),t._v(" "),a("div",{staticClass:"panel-list mcd-ctrl-group"},[a("div",{staticClass:"mcd-ctrl-item"},[t.isWaiting?t._e():a("span",[t._v("开机 "),a("m-switch",{staticClass:"switchMachine",attrs:{disabled:t.isDisabled},on:{change:t.machineChange},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}})],1)]),t._v(" "),a("div",{staticClass:"mcd-ctrl-item"},["run"!==t.machineStatus[2]||t.isWaiting?t._e():a("m-btn",{nativeOn:{click:function(e){t.machineCtrPop("server_reboot")}}},[a("span",{staticClass:"vam"},[t._v("重启")]),t._v(" "),a("i",{staticClass:"icon icon-zhongzhi vam"})])],1),t._v(" "),a("div",{staticClass:"mcd-ctrl-item"},[a("m-btn",{nativeOn:{click:function(e){t.deleteMachine(e)}}},[a("span",{staticClass:"vam"},[t._v("删除")]),t._v(" "),a("i",{staticClass:"icon icon-delete vam"})])],1),t._v(" "),a("span",{staticClass:"justify_fix"})]),t._v(" "),t.isWaiting?a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-12"},[a("img",{staticClass:"vam",attrs:{src:s(144),alt:""}}),t._v(" "),a("span",{staticClass:"vam"},[t._v(t._s(t.waitingTip))])])],1):t._e(),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("名称")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.baseInfo.name,expression:"baseInfo.name"}],staticClass:"edirot-input",attrs:{type:"text","data-key":"baseInfo.name","data-name":"name",readonly:""},domProps:{value:t.baseInfo.name},on:{input:function(e){e.target.composing||(t.baseInfo.name=e.target.value)}}})])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("服务商")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.baseInfo.cluster_name))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("地址")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.baseInfo.address))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("IP")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.baseInfo.public_ip))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("状态")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[a("span",{staticClass:"plate",class:t.machineStatus[1]},[t._v(t._s(t.machineStatus[0]))])])],1)],1),t._v(" "),a("panel",{staticClass:"m-b16"},[a("div",{staticClass:"panel-title clearfix",slot:"title"},[a("span",{staticClass:"bold"},[t._v("配置信息")])]),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("操作系统")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.sysInfo.config.os_name))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("系统类型")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.sysInfo.config.os_type))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("CPU")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(t.sysInfo.config.cpu))])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"},[t._v("内存")]),t._v(" "),a("m-col",{staticClass:"xs-8"},[t._v(t._s(parseInt(t.sysInfo.config.memory)/1024)+"G")])],1),t._v(" "),a("m-row",{staticClass:"panel-list"},[a("m-col",{staticClass:"xs-4"}),t._v(" "),a("m-col",{staticClass:"xs-8"})],1)],1)],1),t._v(" "),a("m-col",{staticClass:"xs-12"},[a("panel",{staticClass:"p-b16 m-b16"},[a("div",{staticClass:"panel-title",slot:"title"},[a("span",{staticClass:"m-r8"},[t._v("容器列表")]),t._v(" "),a("small",[t._v("(容器: 独立运行的一个或一组应用，以及它们的运行生态环境)\t")])]),t._v(" "),a("div",{staticClass:"panel-body"},[a("m-table",{staticClass:"hover striped block-table centered"},[a("col",{attrs:{width:"15%"}}),t._v(" "),a("col",{attrs:{width:"20%"}}),t._v(" "),a("col",{attrs:{width:"20%"}}),t._v(" "),a("col",{attrs:{width:"25%"}}),t._v(" "),a("col",{attrs:{width:"15%"}}),t._v(" "),a("thead",[a("tr",[a("th",[t._v("containerID")]),t._v(" "),a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("状态")]),t._v(" "),a("th",[t._v("更新时间")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.applists,function(e){return a("tr",[a("td",[t._v(t._s(e[0]))]),t._v(" "),a("td",[t._v(t._s(e[1]))]),t._v(" "),a("td",[t._v(t._s(e[2]))]),t._v(" "),a("td",[t._v(t._s(e[3]))]),t._v(" "),a("td",[a("m-btn",{staticClass:"primary_txt",attrs:{href:{name:"AppDetail",params:{id:e[0],mid:t.$route.params.id}}}},[t._v("详情")])],1)])}))])],1)])],1)],1)],1)},staticRenderFns:[]}},156:function(t,e,s){s(164),s(60),s(165),s(166),t.exports=s(3).Symbol},157:function(t,e,s){s(61),s(62),t.exports=s(146).f("iterator")},158:function(t,e,s){var a=s(25),i=s(54),n=s(52);t.exports=function(t){var e=a(t),s=i.f;if(s)for(var o,r=s(t),l=n.f,c=0;r.length>c;)l.call(t,o=r[c++])&&e.push(o);return e}},159:function(t,e,s){var a=s(11);t.exports=Array.isArray||function(t){return"Array"==a(t)}},160:function(t,e,s){var a=s(25),i=s(15);t.exports=function(t,e){for(var s,n=i(t),o=a(n),r=o.length,l=0;r>l;)if(n[s=o[l++]]===e)return s}},161:function(t,e,s){var a=s(28)("meta"),i=s(13),n=s(10),o=s(8).f,r=0,l=Object.isExtensible||function(){return!0},c=!s(16)(function(){return l(Object.preventExtensions({}))}),u=function(t){o(t,a,{value:{i:"O"+ ++r,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,a)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[a].i},p=function(t,e){if(!n(t,a)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[a].w},m=function(t){return c&&d.NEED&&l(t)&&!n(t,a)&&u(t),t},d=t.exports={KEY:a,NEED:!1,fastKey:f,getWeak:p,onFreeze:m}},162:function(t,e,s){var a=s(52),i=s(27),n=s(15),o=s(55),r=s(10),l=s(56),c=Object.getOwnPropertyDescriptor;e.f=s(4)?c:function(t,e){if(t=n(t),e=o(e,!0),l)try{return c(t,e)}catch(t){}if(r(t,e))return i(!a.f.call(t,e),t[e])}},163:function(t,e,s){var a=s(15),i=s(149).f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return i(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==n.call(t)?r(t):i(a(t))}},164:function(t,e,s){"use strict";var a=s(2),i=s(10),n=s(4),o=s(12),r=s(59),l=s(161).KEY,c=s(16),u=s(30),f=s(17),p=s(28),m=s(1),d=s(146),v=s(145),h=s(160),_=s(158),b=s(159),y=s(5),g=s(15),C=s(55),x=s(27),I=s(57),w=s(163),S=s(162),k=s(8),D=s(25),O=S.f,E=k.f,P=w.f,M=a.Symbol,$=a.JSON,j=$&&$.stringify,G=m("_hidden"),A=m("toPrimitive"),T={}.propertyIsEnumerable,F=u("symbol-registry"),N=u("symbols"),W=u("op-symbols"),V=Object.prototype,K="function"==typeof M,z=a.QObject,B=!z||!z.prototype||!z.prototype.findChild,J=n&&c(function(){return 7!=I(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,s){var a=O(V,e);a&&delete V[e],E(t,e,s),a&&t!==V&&E(V,e,a)}:E,R=function(t){var e=N[t]=I(M.prototype);return e._k=t,e},q=K&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},U=function(t,e,s){return t===V&&U(W,e,s),y(t),e=C(e,!0),y(s),i(N,e)?(s.enumerable?(i(t,G)&&t[G][e]&&(t[G][e]=!1),s=I(s,{enumerable:x(0,!1)})):(i(t,G)||E(t,G,x(1,{})),t[G][e]=!0),J(t,e,s)):E(t,e,s)},Y=function(t,e){y(t);for(var s,a=_(e=g(e)),i=0,n=a.length;n>i;)U(t,s=a[i++],e[s]);return t},Q=function(t,e){return void 0===e?I(t):Y(I(t),e)},H=function(t){var e=T.call(this,t=C(t,!0));return!(this===V&&i(N,t)&&!i(W,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,G)&&this[G][t])||e)},L=function(t,e){if(t=g(t),e=C(e,!0),t!==V||!i(N,e)||i(W,e)){var s=O(t,e);return!s||!i(N,e)||i(t,G)&&t[G][e]||(s.enumerable=!0),s}},X=function(t){for(var e,s=P(g(t)),a=[],n=0;s.length>n;)i(N,e=s[n++])||e==G||e==l||a.push(e);return a},Z=function(t){for(var e,s=t===V,a=P(s?W:g(t)),n=[],o=0;a.length>o;)!i(N,e=a[o++])||s&&!i(V,e)||n.push(N[e]);return n};K||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(s){this===V&&e.call(W,s),i(this,G)&&i(this[G],t)&&(this[G][t]=!1),J(this,t,x(1,s))};return n&&B&&J(V,t,{configurable:!0,set:e}),R(t)},r(M.prototype,"toString",function(){return this._k}),S.f=L,k.f=U,s(149).f=w.f=X,s(52).f=H,s(54).f=Z,n&&!s(26)&&r(V,"propertyIsEnumerable",H,!0),d.f=function(t){return R(m(t))}),o(o.G+o.W+o.F*!K,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)m(tt[et++]);for(var tt=D(m.store),et=0;tt.length>et;)v(tt[et++]);o(o.S+o.F*!K,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=M(t)},keyFor:function(t){if(q(t))return h(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){B=!0},useSimple:function(){B=!1}}),o(o.S+o.F*!K,"Object",{create:Q,defineProperty:U,defineProperties:Y,getOwnPropertyDescriptor:L,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),$&&o(o.S+o.F*(!K||c(function(){var t=M();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,s,a=[t],i=1;arguments.length>i;)a.push(arguments[i++]);return e=a[1],"function"==typeof e&&(s=e),!s&&b(e)||(e=function(t,e){if(s&&(e=s.call(this,t,e)),!q(e))return e}),a[1]=e,j.apply($,a)}}}),M.prototype[A]||s(6)(M.prototype,A,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},165:function(t,e,s){s(145)("asyncIterator")},166:function(t,e,s){s(145)("observable")},168:function(t,e,s){t.exports={default:s(156),__esModule:!0}},169:function(t,e,s){t.exports={default:s(157),__esModule:!0}},170:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=s(169),n=a(i),o=s(168),r=a(o),l="function"==typeof r.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":typeof t};e.default="function"==typeof r.default&&"symbol"===l(n.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof r.default&&t.constructor===r.default&&t!==r.default.prototype?"symbol":void 0===t?"undefined":l(t)}},172:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isInfoEditor:!1,infoEditorTemp:{}}},methods:{getValueByKey:function(t){return t.split(".").reduce(function(t,e){return t[e]},this)},editorBegin:function(){var t=this;this.isInfoEditor=!0,this.editorElements||(this.editorElements=this.$el.querySelectorAll(".edirot-input")),this.editorElements.forEach(function(e,s){e.removeAttribute("readonly"),t.infoEditorTemp[e.dataset.key]=e.value})},editorSure:function(){var t=this,e={},s=!1;this.isInfoEditor=!1,this.editorElements.forEach(function(a,i){a.setAttribute("readonly","readonly");var n=t.getValueByKey(a.dataset.key);n!==t.infoEditorTemp[a.dataset.key]&&(e[a.dataset.name]=n,s=!0)}),s&&(e.id=this.$route.params.id,this.$Global.async(this.updateApi,!0).getData(e).then(function(e){t.$toast(e.message,"cc")}))},setValueBuKey:function(t,e){var s=this,a=t.split(".");a.forEach(function(t,i){i===a.length-1?s[t]=e:s=s[t]})},editorCancel:function(){var t=this;this.isInfoEditor=!1,this.editorElements.forEach(function(e,s){e.setAttribute("readonly","readonly"),t.setValueBuKey(e.dataset.key,t.infoEditorTemp[e.dataset.key])})}}}},174:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=s(170),n=a(i),o=s(148),r=a(o),l=s(172),c=a(l),u=s(147),f=a(u),p=s(143),m=a(p);e.default={mixins:[f.default,c.default,m.default],data:function(){return{baseInfo:{cluster_id:-1,cluster_name:""},businessInfo:{contract:{},provider:""},sysInfo:{config:{}},applists:[],machineid:-1,isWaiting:!1,waitingTip:"",isOpen:!1,isDisabled:!1,updateApi:"server_update"}},methods:{getApiData:function(){var t=this;this.machineid=this.$route.params.id,this.$Global.async("server_detail",!0).getData(null,this.machineid).then(function(e){0===e.status&&(t.baseInfo=e.data.basic_info,t.businessInfo=e.data.business_info,t.sysInfo=e.data.system_info,"run"===t.machineStatus[2]&&(t.isOpen=!0),"stop"===t.machineStatus[2]&&(t.isOpen=!1),t.statusApiSuf=t.baseInfo.region_id+"/"+t.baseInfo.instance_id+"/status",console.log(e.data))}),this.$Global.async("server_applist",!0).getData(null,this.machineid).then(function(e){0===e.status&&(t.applists=e.data)})},machineChange:function(){this.isDisabled=!0,this.isOpen?this.machineCtr("server_start"):this.machineCtrPop("server_stop")},machineCtrPop:function(t){var e=this,s=r.default.server[t];this.popperInfo("您确定要 "+s[4]+" 吗?",function(s){e.machineCtr(t)},function(t){e.isOpen=!e.isOpen,e.isDisabled=!1})},machineCtr:function(t){var e=this,s=r.default.server[t];this.waitingTip=s[3],this.$Global.async(t,!0).getData(null,this.machineid).then(function(t){0===t.status?(e.isWaiting=!0,e.baseInfo.machine_status=s[1],e.yqvalue=s[2],e.loopGetStatus(1e3*s[0])):e.$toast(t.message,"cc")},function(t){console.log(void 0===t?"undefined":(0,n.default)(t))})},loopGetStatus:function(t){var e=this;this.loopIV=setInterval(function(t){e.$Global.async("server_status",!0).getData(null,e.statusApiSuf).then(function(t){0===t.status&&(e.baseInfo.machine_status=t.data,t.data===e.yqvalue&&(e.isWaiting=!1,e.isDisabled=!1,clearInterval(e.loopIV)))})},t)},deleteMachine:function(){var t=this;this.popperDelete(this.baseInfo.name,function(e){t.$Global.async("server_del",!0).getData({id:[t.$route.params.id]}).then(function(e){0===e.status&&t.$router.push({name:"Machines"}),t.$toast(e.message,"cc")})})}},computed:{businessStatus:function(){return r.default.business[this.baseInfo.business_status]||[]},machineStatus:function(){return r.default.machine[this.baseInfo.machine_status]||[]}},created:function(){this.getApiData()},beforeDestroy:function(){this.loopIV&&clearInterval(this.loopIV)}}},179:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(174),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={mixins:[i.default]}}});
//# sourceMappingURL=0.9006b3c14a127a03775f.js.map