webpackJsonp([0],{126:function(t,A,s){s(157);var a=s(13)(s(167),s(149),null,null);t.exports=a.exports},136:function(t,A,s){t.exports=s.p+"static/img/spin.b3959a2.gif"},140:function(t,A,s){A=t.exports=s(124)(),A.push([t.i,".tab-cont{padding:16px 0}.addhost-title{font-weight:400}.addhost-form .input-group,.addhost-title{margin-bottom:16px}.addhost-form input{border-radius:10px}.addhost-form .pos-left{border-top-left-radius:10px;border-bottom-left-radius:10px}.addhost-form .input-label{background-color:#f8f8f8}","",{version:3,sources:["D:/workspace/FrontEnd-JIMU/src/scss/addhost.scss"],names:[],mappings:"AACA,UACE,cAAgB,CACjB,AACD,eAEE,eAAiB,CAClB,AACD,0CAHE,kBAAoB,CAKrB,AACD,oBACE,kBAAoB,CACrB,AACD,wBACE,4BAA6B,AAC7B,8BAAgC,CACjC,AACD,2BACE,wBAA0B,CAC3B",file:"addhost.scss",sourcesContent:["\n.tab-cont {\n  padding: 16px 0;\n}\n.addhost-title {\n  margin-bottom: 16px;\n  font-weight: 400;\n}\n.addhost-form .input-group {\n  margin-bottom: 16px;\n}\n.addhost-form input {\n  border-radius: 10px;\n}\n.addhost-form .pos-left {\n  border-top-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n}\n.addhost-form .input-label {\n  background-color: #f8f8f8;\n}\n"],sourceRoot:""}])},142:function(t,A){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTU3NzIsIDIwMTQvMDEvMTMtMTk6NDQ6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyQTlDMDdGODI4QjcxMUU3OEMwOEVDMzU3NzhBNTU3RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQTlDMDdGOTI4QjcxMUU3OEMwOEVDMzU3NzhBNTU3RiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJBOUMwN0Y2MjhCNzExRTc4QzA4RUMzNTc3OEE1NTdGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBOUMwN0Y3MjhCNzExRTc4QzA4RUMzNTc3OEE1NTdGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAGgBnAwERAAIRAQMRAf/EAIMAAAICAwAAAAAAAAAAAAAAAAYHAAUDBAgBAQEAAAAAAAAAAAAAAAAAAAABEAABAwMCAwMFCQ4HAAAAAAACAQMEEQUGABIhMQdBMhNhcSI0NVGBgrIjFBU2CJGx0UJScsIzY3OTtEVVdXYXJzdHOBEBAQAAAAAAAAAAAAAAAAAAABH/2gAMAwEAAhEDEQA/AMWZdVOoeW5k7a8ZmS4sZXiZt8KAZMuGgV9MzBRJVWlVqtE1RfWbpj9oScQLMyWbbWi4kT9zkGSJ+a0Z8fPoHxcLJNkYo7Z2J7zM0ovgN3IXDR5HUGiO+Ii767uNa11Agrv02+0TA3LHyCfcWx5FGuchFXzC4bZao1ulHVPOrZnUbG8jlyZseVI+ZSGZpE48y8q7RJDOp8C5oq0poHR1Ey3JLLcLBbbBHivzb0+8yizCMWx8IEOtQ9/UArE6qZfKxKBeDcsdvkTJMlpBnvuMNuNMEIIbKrVS9PdX3tBYYtn2czszttkuTVpcgz4TlwCZb3XHRJkC2JsJeFd+gxOZ91Em3q+R7SxZmbfaZxQBeuD7jJGSChJ5F4LoNCwdSOqF9bfOG1j4kxIcieE7JcEzNrgqgKV3Cv4q9ugM8Iyq/wCSYOd2WNHC87pDTUdCJGFdZNQGpLUtqqmgrUmddv7fYv4z/wCDQWVmk9ViCf8AS8K1NmkVxbcsd11UWUifJi7uTuKvNU0HOnRlf95IX76R8Q9UddkqoKqKVJE4JyquoB5q7ZsT4i5YI4MqdCcSfVUGve2+AleHZXQEWg5Lm/8AolP8ba+OOqHV1UjnJy7BowOKyciVNaF4UqoK5F27kRe1K11AvLU1HmDhNonRWXfohb/bpDZCjjRnFYqjm0kVKqtC8+qLfpX9acJ/yu//ADa6Dcn4XlYXu/hIw+FkNsuNzO4QzkzQZ27gRvuUVeKJ26gFentgu5MTpcDBLfPkxblIFqW5OFo47gKlGgRa7haXkvbqhq41i+Y2Lp03bYcyLEv5OuSn33RV5hvxXVdMURKbvRWldQD+G3HrPlFl+lo16tkeOTzzLPiRCVTFk1DxEoXIlRdBfWtjqkVxkxJOTWeQ6ww54kVmOqOtuutEkYzHdVBRzaS15oi6DnW7sZN0x6jnNRhPHivG5EceFVZfacqlUVKVqJcaLVF1Qy7L9qtlVELzY1CtN70R2qJ5mzT9LSB2TsjtkPHHchdNVtzUb52ppSqt7dyU8uoEdePtWH6Q2axClO67LdUq/AbQfjaoCemUDIs16rxr6bKqgTEn3GSA7Wm0At21F5VWm0U56B/9Rsdvt2yHE37WJAMJ+UUiaO1fm/isbAc2kqbqF2agxl0VxV2y2y2yHpZHbfHNJbbxNOuuy6K+ZqPPfT7nDQaGBYhfByxq9TLWNhtNot62mz2xXUkOk2rm8nXDT3V+/oK7O7IN3yeTIldOpd5Vray1cQniwDoAnBRb3JRNAF2Hp3Jhx5IXXppLnuuyXHWHBuIN+GwS/JtUQuKj+V26ociOXn/TV8INlegXRuE4xDtDjouuCSCoNj4taL2LWuoBTDr9nmNYxbbG3gEt1ILKNk6kyMKGdVIypxpuJVXQZbK7nL2fXHKncVft0crObLkNySyZSZLBK4wIEPIi7lVSmgKuoHqbHsLvL9YP1XwPLoAMuS/8dcu3lqhkT/qU57K9VT1j2VyTvfsfc1AuOz/rrQMPBPZRex+9/QvV/f8ALoCTQTQTQTQTQTQTQTQf/9k="},144:function(t,A){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTU3NzIsIDIwMTQvMDEvMTMtMTk6NDQ6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0MjFDMTEwQjI4QjcxMUU3QjU5MkU1RTE5RDMzNEEyQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0MjFDMTEwQzI4QjcxMUU3QjU5MkU1RTE5RDMzNEEyQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQyMUMxMTA5MjhCNzExRTdCNTkyRTVFMTlEMzM0QTJCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQyMUMxMTBBMjhCNzExRTdCNTkyRTVFMTlEMzM0QTJCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJ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"},149:function(t,A,s){t.exports={render:function(){var t=this,A=t.$createElement,a=t._self._c||A;return a("div",{staticClass:"v-addhost"},[a("div",{staticClass:"crumbs"},[a("span",{staticClass:"crumbs-item"},[t._v("服务器")]),t._v(" "),a("router-link",{staticClass:"crumbs-item",attrs:{to:{name:"Cluster"}}},[t._v("集群")]),t._v(" "),a("span",{staticClass:"crumbs-item qingse-text"},[t._v("新增主机")])],1),t._v(" "),a("div",{staticClass:"v-content"},[a("m-tab",{attrs:{labels:["已有新主机","去购买一台"],tabkey:0}},[a("div",{staticClass:"tab-cont_item"},[a("div",{staticClass:"addhost-title"},[t._v("主机信息")]),t._v(" "),a("div",{staticClass:"addhost-form"},[a("m-input",{attrs:{"label-pos":"left",height:48},model:{value:t.formdata.name,callback:function(A){t.formdata.name=A},expression:"formdata.name"}},[t._v("主机名称")]),t._v(" "),a("m-input",{attrs:{"label-pos":"left",height:48},model:{value:t.formdata.public_ip,callback:function(A){t.formdata.public_ip=A},expression:"formdata.public_ip"}},[t._v("IP")]),t._v(" "),a("m-input",{attrs:{"label-pos":"left",height:48},model:{value:t.formdata.username,callback:function(A){t.formdata.username=A},expression:"formdata.username"}},[t._v("用户名")]),t._v(" "),a("m-input",{attrs:{"label-pos":"left",height:48},model:{value:t.formdata.passwd,callback:function(A){t.formdata.passwd=A},expression:"formdata.passwd"}},[t._v("密码")])],1),t._v(" "),t.clusters.length>0?a("div",{staticClass:"addhost-title"},[t._v("选择集群")]):t._e(),t._v(" "),t.clusters.length>0?a("ul",{staticClass:"switch-box"},t._l(t.clusters,function(A){return a("li",{staticClass:"switch-item",class:{active:A.id===t.formdata.cluster_id},on:{click:function(s){t.selectCluster(A.id)}}},[t._v(t._s(A.name))])})):t._e(),t._v(" "),"save"===t.status?a("div",{staticClass:"save-box"},[a("m-btn",{staticClass:"comb-btn waves-effect lvse hover",nativeOn:{click:function(A){t.addHost(A)}}},[t._v("保存")])],1):t._e(),t._v(" "),"waiting"===t.status?a("div",{staticClass:"waiting-link"},[a("img",{staticClass:"vam",attrs:{src:s(136),alt:""}}),t._v(" "),a("span",{staticClass:"vam"},[t._v("等待连接")])]):t._e(),t._v(" "),"error"===t.status?a("div",[a("div",{staticClass:"hongse-text"},[t._v("异常，请联系客服")])]):t._e()]),t._v(" "),a("div",{staticClass:"tab-cont_item"},[a("div",{staticClass:"addhost-title"},[t._v("合作服务商")]),t._v(" "),a("ul",{staticClass:"switch-box"},[a("li",{staticClass:"switch-item switch-item_img"},[a("a",{attrs:{href:"https://www.aliyun.com",target:"_blank"}},[a("img",{attrs:{src:s(142),alt:""}})])]),t._v(" "),a("li",{staticClass:"switch-item switch-item_img"},[a("a",{attrs:{href:"https://www.qcloud.com",target:"_blank"}},[a("img",{attrs:{src:s(144),alt:""}})])])])])])],1)])},staticRenderFns:[]}},157:function(t,A,s){var a=s(140);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s(125)("576f260c",a,!0)},159:function(t,A,s){var a=s(3),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},160:function(t,A,s){t.exports={default:s(159),__esModule:!0}},161:function(t,A,s){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var a=s(160),i=function(t){return t&&t.__esModule?t:{default:t}}(a);A.default={data:function(){return{sokect:null,tcmname:"",formdata:{name:"",public_ip:"",username:"",passwd:"",cluster_id:0},status:"save",clusters:[]}},methods:{addHost:function(){if(this.socket){if(""===this.formdata.name)return void this.$toast("机器名称不能为空","cc");if(""===this.formdata.public_ip)return void this.$toast("public_ip不能为空","cc");this.socket.send((0,i.default)(this.formdata)),this.status="waiting"}},selectCluster:function(t){this.formdata.cluster_id=t},initClusters:function(){var t=this;this.rid=this.formdata.cluster_id=this.$route.params.id,0===parseInt(this.rid)?this.$Global.async("clusters").getData().then(function(A){t.clusters=A.data,t.formdata.cluster_id=t.clusters[0].id,t.initSocket()}):(this.initSocket(),this.timeoutajax&&clearTimeout(this.timeoutajax),this.timeoutajax=setTimeout(function(A){t.status="error",t.$toast("异常，请联系客服","cc"),t.socket.close(),clearTimeout(t.timeoutajax)},6e5))},initSocket:function(){var t=this;this.socket=new WebSocket(this.$Global.apis.wsURL+this.$Global.apis.server_add.u),this.socket.onopen=function(t){},this.socket.onmessage=function(A){"success"===A.data?window.location.href="/#/cluster-details/"+t.formdata.cluster_id:"open"!==A.data&&(t.status="save",t.$toast(A.data,"cc"))},this.socket.onclose=function(A){t.timeoutajax&&clearTimeout(t.timeoutajax),console.log("socket has closed")}}},created:function(){this.initClusters()},beforeDestroy:function(){this.socket&&(this.socket.close(),this.socket=null)}}},167:function(t,A,s){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var a=s(161),i=function(t){return t&&t.__esModule?t:{default:t}}(a);A.default={name:"AddHost",mixins:[i.default]}}});
//# sourceMappingURL=0.55e06c2d85aefb5e21d3.js.map