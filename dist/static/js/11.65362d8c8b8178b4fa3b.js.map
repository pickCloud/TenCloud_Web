{"version":3,"sources":["webpack:///static/js/11.65362d8c8b8178b4fa3b.js","webpack:///./src/components/ProjectAdd.vue","webpack:///./src/components/Poppers.js?70bc***","webpack:///./src/components/ProjectAddMixin.js","webpack:///ProjectAdd.vue","webpack:///./src/components/ProjectAdd.vue?f057"],"names":["webpackJsonp","144","module","exports","__webpack_require__","Component","152","Object","defineProperty","value","_Merge","_Merge2","obj","__esModule","default","config","theme","hasClose","buttons","label","methods","popperDelete","s","cb","h","this","$createElement","$confirm","content","attrs","src","class","msg","arguments","length","undefined","call","actionPopper","popperInfo","cb2","popperWaiting","maskClose","188","_Poppers","_Poppers2","mixins","data","formdata","name","image_name","description","mode","repos_idx","git_tip","githubs","isEditor","editorData","addProject","_this","temp","$toast","repos_name","repos_url","http_url","id","$route","params","$Global","async","getData","then","d","status","$router","push","e","bindGitHub","indexOf","getApiData","_this2","message","initReposIdx","i","v","editorMode","_this3","computed","gitLoadStyle","created","198","_ProjectAddMixin","_ProjectAddMixin2","240","render","_vm","_h","_c","_self","staticClass","title","width","_v","directives","rawName","expression","type","domProps","on","input","$event","target","composing","staticStyle","position","placeholder","model","callback","$$v","innerHTML","_s","nativeOn","click","_l","item","_e","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQC,EAASC,GAEjC,YAGAG,QAAOC,eAAeL,EAAS,cAC7BM,OAAO,GE5BT,IAAAC,GAAAN,EAAA,IFiCIO,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFlDF,GE/B/BK,GACJC,MAAO,WACPC,UAAU,EACVC,UACGC,MAAO,KAAMH,MAAO,KACpBG,MAAO,KAAMH,MAAO,KFoCzBb,GAAQW,SE/BNM,SACEC,aADO,SACOC,EAAGC,GACf,GAAMC,GAAIC,KAAKC,cACfD,MAAKE,UAAS,EAAAhB,EAAAG,YAAUC,GACtBa,QAASJ,EAAE,OACTA,EAAE,OAAQK,OAAQC,IAAK,8BAA+BC,MAAO,eAC7DP,EAAE,QAASK,OAAQE,MAAO,QAAST,OAEnC,SAACU,GACY,KAAXC,UAAAC,QAAA,MAAAC,GAAAF,UAAA,KACEV,GAAIA,EAAGa,OAEbJ,EAAIK,cAAa,MAGrBC,WAfO,SAeKhB,EAAGC,EAAIgB,GACjBd,KAAKE,UAAS,EAAAhB,EAAAG,YAAUC,GACtBa,QAASN,IACP,SAACU,GACY,KAAXC,UAAAC,QAAA,MAAAC,GAAAF,UAAA,IACEV,GAAIA,EAAGa,OAEPG,GAAKA,EAAIH,OAEfJ,EAAIK,cAAa,MAGrBG,cA3BO,SA2BQlB,GACb,GAAME,GAAIC,KAAKC,cACf,OAAOD,MAAKE,UACVX,MAAO,WACPC,UAAU,EACVwB,WAAW,EACXb,QAASJ,EAAE,OAAQ,MAAOA,EAAE,OAAQK,OAAQC,IAAK,wBAAyBC,MAAO,cAAeP,EAAE,QAASK,OAAQE,MAAO,QAAST,KACnIJ,iBFqCFwB,IACA,SAAUxC,EAAQC,EAASC,GAEjC,YAGAG,QAAOC,eAAeL,EAAS,cAC7BM,OAAO,GG1FT,IAAAkC,GAAAvC,EAAA,KH+FIwC,EAEJ,SAAgChC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhD+B,EAIvCxC,GAAQW,SGhGN+B,QAAQD,EAAA9B,SACRgC,KAAM,kBACJC,UACEC,KAAM,GAGNC,WAAY,GACZC,YAAa,GACbC,KAAM,KAERC,UAAW,IACXC,QAAS,eACTC,WACAC,UAAU,EACVC,gBAEFpC,SACEqC,WADO,WACO,GAAAC,GAAAjC,KACRkC,EAAOlC,KAAK6B,QAAQ7B,KAAK2B,UAE7B,OAAKO,GAIsB,KAAvBlC,KAAKsB,SAASC,SAChBvB,MAAKmC,OAAO,SAAU,MAGS,KAA7BnC,KAAKsB,SAASE,eAChBxB,MAAKmC,OAAO,WAAY,MAGQ,KAA9BnC,KAAKsB,SAASG,gBAChBzB,MAAKmC,OAAO,SAAU,OAGxBnC,KAAKsB,SAASc,WAAaF,EAAKE,WAChCpC,KAAKsB,SAASe,UAAYH,EAAKG,UAC/BrC,KAAKsB,SAASgB,SAAWJ,EAAKI,SAC1BtC,KAAK8B,WAAU9B,KAAKsB,SAASiB,GAAKvC,KAAKwC,OAAOC,OAAOF,QACzDvC,MAAK0C,QAAQC,MAAM3C,KAAK8B,SAAW,iBAAmB,eAAe,GAAMc,QAAQ5C,KAAKsB,UAAUuB,KAAK,SAAAC,GACpF,IAAbA,EAAEC,SACCd,EAAKH,SACLG,EAAKe,QAAQC,MAAM1B,KAAM,gBAAiBkB,QAASF,GAAIN,EAAKO,OAAOC,OAAOF,MAD3DN,EAAKe,QAAQC,MAAM1B,KAAM,cAG/CU,EAAKE,OAAOF,EAAKH,SAAW,OAAS,OAAQ,OAE5C,SAAAoB,WA1BDlD,MAAKmC,OAAO,SAAU,OA8B1BgB,WAnCO,YAoCiC,IAAlCnD,KAAK4B,QAAQwB,QAAQ,SACzBpD,KAAKqD,cAEPA,WAvCO,SAuCKvD,GAAI,GAAAwD,GAAAtD,IACdA,MAAK4B,QAAU,qFAEf5B,KAAK0C,QAAQC,MAAM,iBAAiB,GAAMC,UAAUC,KAAK,SAAAC,GACtC,IAAbA,EAAEC,QACJO,EAAKzB,QAAUiB,EAAEzB,KACjBiC,EAAK3B,UAAY,IACjB2B,EAAK1B,QAAU,iBACX9B,GAAIA,KAERwD,EAAKnB,OAAOW,EAAES,QAAS,SAM7BC,aAvDO,WAyDL,IADA,GAAIC,IAAK,IACAA,EAAIzD,KAAK6B,QAAQpB,QAAQ,CAChC,GAAIiD,GAAI1D,KAAK6B,QAAQ4B,EACrB,IAAIC,EAAEtB,aAAepC,KAAK+B,WAAWK,YAAcsB,EAAErB,YAAcrC,KAAK+B,WAAWM,UAAW,CAC5FrC,KAAK2B,UAAY8B,EAAI,EACrB,UAINE,WAjEO,WAiEO,GAAAC,GAAA5D,IACZA,MAAK0C,QAAQC,MAAM,kBAAkB,GAAMC,QAAQ,KAAM5C,KAAKwC,OAAOC,OAAOF,IAAIM,KAAK,SAAAC,GACnF,GAAiB,IAAbA,EAAEC,OAAc,CAClB,GAAIb,GAAO0B,EAAK7B,WAAae,EAAEzB,KAAK,EACpCuC,GAAKtC,SAASC,KAAOW,EAAKX,KAC1BqC,EAAKtC,SAASG,YAAcS,EAAKT,YACjCmC,EAAKtC,SAASI,KAAOQ,EAAKR,KAAO,GACjCkC,EAAKtC,SAASE,WAAaU,EAAKV,WAChCoC,EAAKP,WAAWO,EAAKJ,mBAK7BK,UACEC,aADQ,WAEN,OAAyC,IAAlC9D,KAAK4B,QAAQwB,QAAQ,QAAiB,UAAY,KAG7DW,QApGa,WAqGX/D,KAAK8B,aAAqCpB,KAA1BV,KAAKwC,OAAOC,OAAOF,GAC/BvC,KAAK8B,UAAU9B,KAAK2D,gBHwGtBK,IACA,SAAUvF,EAAQC,EAASC,GAEjC,YAGAG,QAAOC,eAAeL,EAAS,cAC7BM,OAAO,GI1JT,IAAAiF,GAAAtF,EAAA,KJ+JIuF,EAEJ,SAAgC/E,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFxC8E,EAI/CvF,GAAQW,SACN+B,QIlKF8C,EAAA7E,WJuKM8E,IACA,SAAU1F,EAAQC,GKvOxBD,EAAAC,SAAgB0F,OAAA,WAAmB,GAAAC,GAAArE,KAAasE,EAAAD,EAAApE,eAA0BsE,EAAAF,EAAAG,MAAAD,IAAAD,CAC1E,OAAAC,GAAA,OACAE,YAAA,8BACGF,EAAA,SACHnE,OACAsE,MAAAL,EAAAvC,SAAA,iBAEGyC,EAAA,SACHE,YAAA,cACGF,EAAA,OACHnE,OACAuE,MAAA,SAEGN,EAAAO,GAAA,KAAAL,EAAA,OACHnE,OACAuE,MAAA,SAEGN,EAAAO,GAAA,KAAAL,EAAA,SAAAA,EAAA,MAAAA,EAAA,MACHE,YAAA,gBACGJ,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,SACHM,aACAtD,KAAA,QACAuD,QAAA,UACA9F,MAAAqF,EAAA/C,SAAA,KACAyD,WAAA,kBAEA3E,OACA4E,KAAA,QAEAC,UACAjG,MAAAqF,EAAA/C,SAAA,MAEA4D,IACAC,MAAA,SAAAC,GACAA,EAAAC,OAAAC,YACAjB,EAAA/C,SAAAC,KAAA6D,EAAAC,OAAArG,eAGGqF,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,MACHE,YAAA,gBACGJ,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAL,EAAA,MACHgB,aACAC,SAAA,cAEGjB,EAAA,SACHM,aACAtD,KAAA,QACAuD,QAAA,UACA9F,MAAAqF,EAAA/C,SAAA,WACAyD,WAAA,wBAEA3E,OACA4E,KAAA,OACAS,YAAA,WAEAR,UACAjG,MAAAqF,EAAA/C,SAAA,YAEA4D,IACAC,MAAA,SAAAC,GACAA,EAAAC,OAAAC,YACAjB,EAAA/C,SAAAE,WAAA4D,EAAAC,OAAArG,WAGGqF,EAAAO,GAAA,KAAAL,EAAA,KACHE,YAAA,oBACGJ,EAAAO,GAAA,qCAAAP,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,MACHE,YAAA,gBACGJ,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,SACHM,aACAtD,KAAA,QACAuD,QAAA,UACA9F,MAAAqF,EAAA/C,SAAA,YACAyD,WAAA,yBAEA3E,OACA4E,KAAA,QAEAC,UACAjG,MAAAqF,EAAA/C,SAAA,aAEA4D,IACAC,MAAA,SAAAC,GACAA,EAAAC,OAAAC,YACAjB,EAAA/C,SAAAG,YAAA2D,EAAAC,OAAArG,eAGGqF,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,MACHE,YAAA,gBACGJ,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAL,EAAA,MACHE,YAAA,YACGF,EAAA,WACHE,YAAA,OACArE,OACAiB,MACA3B,MAAA,OACAV,MAAA,MAGA0G,OACA1G,MAAAqF,EAAA/C,SAAA,KACAqE,SAAA,SAAAC,GACAvB,EAAA/C,SAAAI,KAAAkE,GAEAb,WAAA,mBAEGV,EAAAO,GAAA,KAAAL,EAAA,WACHE,YAAA,OACArE,OACAiB,MACA3B,MAAA,OACAV,MAAA,MAGA0G,OACA1G,MAAAqF,EAAA/C,SAAA,KACAqE,SAAA,SAAAC,GACAvB,EAAA/C,SAAAI,KAAAkE,GAEAb,WAAA,mBAEGV,EAAAO,GAAA,KAAAL,EAAA,WACHnE,OACAiB,MACA3B,MAAA,OACAV,MAAA,MAGA0G,OACA1G,MAAAqF,EAAA/C,SAAA,KACAqE,SAAA,SAAAC,GACAvB,EAAA/C,SAAAI,KAAAkE,GAEAb,WAAA,oBAEG,KAAAV,EAAAO,GAAA,KAAAL,EAAA,MAAAA,EAAA,MACHE,YAAA,gBACGJ,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAL,EAAA,MACHE,YAAA,YACGF,EAAA,OACHE,YAAA,cACGF,EAAA,SACHE,YAAA,gDACAnE,MAAA+D,EAAAP,aACAmB,UACAY,UAAAxB,EAAAyB,GAAAzB,EAAAzC,UAEAmE,UACAC,MAAA,SAAAZ,GACAf,EAAAlB,WAAAiC,QAGG,GAAAf,EAAAO,GAAA,KAAAP,EAAAxC,QAAApB,OAAA,EAAA8D,EAAA,OACHE,YAAA,aACGF,EAAA,SACHE,YAAA,iDACGF,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAAF,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAL,EAAA,MAAAF,EAAAO,GAAA,cAAAP,EAAAO,GAAA,KAAAL,EAAA,QAAAF,EAAA4B,GAAA5B,EAAA,iBAAA6B,EAAAzC,GACH,MAAAc,GAAA,MAAAA,EAAA,MAAAA,EAAA,WACAnE,OACAiB,MACA3B,MAAAwG,EAAA9D,WACApD,MAAAyE,EAAA,KAGAiC,OACA1G,MAAAqF,EAAA,UACAsB,SAAA,SAAAC,GACAvB,EAAA1C,UAAAiE,GAEAb,WAAA,gBAEK,GAAAV,EAAAO,GAAA,KAAAL,EAAA,MAAAF,EAAAO,GAAAP,EAAAyB,GAAAI,EAAA7D,uBACFgC,EAAA8B,aAAA9B,EAAAO,GAAA,KAAAL,EAAA,OACHE,YAAA,qBACGF,EAAA,SACHE,YAAA,qCACAsB,UACAC,MAAA,SAAAZ,GACAf,EAAArC,WAAAoD,OAGGf,EAAAO,GAAAP,EAAAyB,GAAAzB,EAAAvC,SAAA,6BACFsE","file":"static/js/11.65362d8c8b8178b4fa3b.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(7)(\n  /* script */\n  __webpack_require__(198),\n  /* template */\n  __webpack_require__(240),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Merge = __webpack_require__(53);\n\nvar _Merge2 = _interopRequireDefault(_Merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  theme: 'comb-msg',\n  hasClose: false,\n  buttons: [{ label: '确定', theme: '' }, { label: '取消', theme: '' }]\n};\n\nexports.default = {\n  methods: {\n    popperDelete: function popperDelete(s, cb) {\n      var h = this.$createElement;\n      this.$confirm((0, _Merge2.default)({}, config, {\n        content: h('div', [h('img', { attrs: { src: './static/img/error_icon.png', class: 'vam m-r16' } }), h('span', { attrs: { class: 'vam' } }, s)])\n      }), function (msg) {\n        if ((arguments.length <= 1 ? undefined : arguments[1]) === 0) {\n          if (cb) cb.call();\n        }\n        msg.actionPopper(false);\n      });\n    },\n    popperInfo: function popperInfo(s, cb, cb2) {\n      this.$confirm((0, _Merge2.default)({}, config, {\n        content: s\n      }), function (msg) {\n        if ((arguments.length <= 1 ? undefined : arguments[1]) === 0) {\n          if (cb) cb.call();\n        } else {\n          if (cb2) cb2.call();\n        }\n        msg.actionPopper(false);\n      });\n    },\n    popperWaiting: function popperWaiting(s) {\n      var h = this.$createElement;\n      return this.$confirm({\n        theme: 'comb-msg',\n        hasClose: false,\n        maskClose: false,\n        content: h('span', null, [h('img', { attrs: { src: './static/img/spin.gif', class: 'vam m-r8' } }), h('span', { attrs: { class: 'vam' } }, s)]),\n        buttons: []\n      });\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Poppers = __webpack_require__(152);\n\nvar _Poppers2 = _interopRequireDefault(_Poppers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  mixins: [_Poppers2.default],\n  data: function data() {\n    return {\n      formdata: {\n        name: '',\n\n        image_name: '',\n        description: '',\n        mode: '0'\n      },\n      repos_idx: '0',\n      git_tip: '绑定github代码仓库',\n      githubs: [],\n      isEditor: false,\n      editorData: {}\n    };\n  },\n  methods: {\n    addProject: function addProject() {\n      var _this = this;\n\n      var temp = this.githubs[this.repos_idx];\n\n      if (!temp) {\n        this.$toast('请先拉取来源', 'cc');\n        return;\n      }\n      if (this.formdata.name === '') {\n        this.$toast('名称不能为空', 'cc');\n        return;\n      }\n      if (this.formdata.image_name === '') {\n        this.$toast('镜像名称不能为空', 'cc');\n        return;\n      }\n      if (this.formdata.description === '') {\n        this.$toast('描述不能为空', 'cc');\n        return;\n      }\n      this.formdata.repos_name = temp.repos_name;\n      this.formdata.repos_url = temp.repos_url;\n      this.formdata.http_url = temp.http_url;\n      if (this.isEditor) this.formdata.id = this.$route.params.id;\n      this.$Global.async(this.isEditor ? 'project_update' : 'project_add', true).getData(this.formdata).then(function (d) {\n        if (d.status === 0) {\n          if (!_this.isEditor) _this.$router.push({ name: 'Projects' });else _this.$router.push({ name: 'ProjectDetail', params: { id: _this.$route.params.id } });\n        }\n        _this.$toast(_this.isEditor ? '修改成功' : '添加成功', 'cc');\n      }, function (e) {});\n    },\n    bindGitHub: function bindGitHub() {\n      if (this.git_tip.indexOf('<img') !== -1) return;\n      this.getApiData();\n    },\n    getApiData: function getApiData(cb) {\n      var _this2 = this;\n\n      this.git_tip = '<img class=\"vam\" src=\"./static/img/spin.gif\"></img> <span class=\"vam\">数据加载中</span>';\n\n      this.$Global.async('project_repos', true).getData().then(function (d) {\n        if (d.status === 0) {\n          _this2.githubs = d.data;\n          _this2.repos_idx = '0';\n          _this2.git_tip = '重新绑定github代码仓库';\n          if (cb) cb();\n        } else {\n          _this2.$toast(d.message, 'cc');\n        }\n      });\n    },\n    initReposIdx: function initReposIdx() {\n      var i = -1;\n      while (++i < this.githubs.length) {\n        var v = this.githubs[i];\n        if (v.repos_name === this.editorData.repos_name && v.repos_url === this.editorData.repos_url) {\n          this.repos_idx = i + '';\n          break;\n        }\n      }\n    },\n    editorMode: function editorMode() {\n      var _this3 = this;\n\n      this.$Global.async('project_detail', true).getData(null, this.$route.params.id).then(function (d) {\n        if (d.status === 0) {\n          var temp = _this3.editorData = d.data[0];\n          _this3.formdata.name = temp.name;\n          _this3.formdata.description = temp.description;\n          _this3.formdata.mode = temp.mode + '';\n          _this3.formdata.image_name = temp.image_name;\n          _this3.getApiData(_this3.initReposIdx);\n        }\n      });\n    }\n  },\n  computed: {\n    gitLoadStyle: function gitLoadStyle() {\n      return this.git_tip.indexOf('<img') !== -1 ? 'loading' : '';\n    }\n  },\n  created: function created() {\n    this.isEditor = this.$route.params.id !== undefined;\n    if (this.isEditor) this.editorMode();\n  }\n};\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ProjectAddMixin = __webpack_require__(188);\n\nvar _ProjectAddMixin2 = _interopRequireDefault(_ProjectAddMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  mixins: [_ProjectAddMixin2.default]\n};\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-project-add\"\n  }, [_c('panel', {\n    attrs: {\n      \"title\": _vm.isEditor ? '项目修改' : '添加项目'\n    }\n  }, [_c('table', {\n    staticClass: \"add-table\"\n  }, [_c('col', {\n    attrs: {\n      \"width\": \"20%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"80%\"\n    }\n  }), _vm._v(\" \"), _c('tbody', [_c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"名称\")]), _vm._v(\" \"), _c('td', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.name),\n      expression: \"formdata.name\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"镜像名称\")]), _vm._v(\" \"), _c('td', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.image_name),\n      expression: \"formdata.image_name\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"请输入小写字母\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.image_name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.image_name = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"deploy-name_tip\"\n  }, [_vm._v(\"项目部署后以容器的形式运行：容器名称仅允许英文小写字母\")])])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"项目描述\")]), _vm._v(\" \"), _c('td', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.description),\n      expression: \"formdata.description\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.description = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择类别\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16\"\n  }, [_c('m-radio', {\n    staticClass: \"m-r8\",\n    attrs: {\n      \"data\": {\n        label: '普通项目',\n        value: '0'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  }), _vm._v(\" \"), _c('m-radio', {\n    staticClass: \"m-r8\",\n    attrs: {\n      \"data\": {\n        label: '基础服务',\n        value: '1'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  }), _vm._v(\" \"), _c('m-radio', {\n    attrs: {\n      \"data\": {\n        label: '应用组件',\n        value: '2'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"项目来源\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt btn-github\",\n    class: _vm.gitLoadStyle,\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.git_tip)\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.bindGitHub($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), (_vm.githubs.length > 0) ? _c('div', {\n    staticClass: \"git-list\"\n  }, [_c('table', {\n    staticClass: \"table hover striped machines-table theme-dft\"\n  }, [_c('thead', [_c('tr', [_c('th', [_vm._v(\"仓库名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"仓库路径\")])])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.githubs), function(item, i) {\n    return _c('tr', [_c('td', [_c('m-radio', {\n      attrs: {\n        \"data\": {\n          label: item.repos_name,\n          value: i + ''\n        }\n      },\n      model: {\n        value: (_vm.repos_idx),\n        callback: function($$v) {\n          _vm.repos_idx = $$v\n        },\n        expression: \"repos_idx\"\n      }\n    })], 1), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.repos_url))])])\n  }))])]) : _vm._e()])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.addProject($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.isEditor ? '确定修改' : '确定添加'))])], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.65362d8c8b8178b4fa3b.js","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectAdd.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9364532\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectAdd.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProjectAdd.vue\n// module id = 144\n// module chunks = 11","import Merge from './Merge.js'\n\nconst config = {\n  theme: 'comb-msg',\n  hasClose: false,\n  buttons: [\n    {label: '确定', theme: ''},\n    {label: '取消', theme: ''}\n  ]\n}\n\nexport default {\n  methods: {\n    popperDelete (s, cb) {\n      const h = this.$createElement\n      this.$confirm(Merge({}, config, {\n        content: h('div', [\n          h('img', {attrs: {src: './static/img/error_icon.png', class: 'vam m-r16'}}),\n          h('span', {attrs: {class: 'vam'}}, s)\n        ])\n      }), (msg, ...arg) => {\n        if (arg[0] === 0) {\n          if (cb) cb.call()\n        }\n        msg.actionPopper(false)\n      })\n    },\n    popperInfo (s, cb, cb2) {\n      this.$confirm(Merge({}, config, {\n        content: s\n      }), (msg, ...arg) => {\n        if (arg[0] === 0) {\n          if (cb) cb.call()\n        } else {\n          if (cb2) cb2.call()\n        }\n        msg.actionPopper(false)\n      })\n    },\n    popperWaiting (s) {\n      const h = this.$createElement\n      return this.$confirm({\n        theme: 'comb-msg',\n        hasClose: false,\n        maskClose: false,\n        content: h('span', null, [h('img', {attrs: {src: './static/img/spin.gif', class: 'vam m-r8'}}), h('span', {attrs: {class: 'vam'}}, s)]),\n        buttons: []\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Poppers.js","import Popper from './Poppers.js'\n\nexport default {\n  mixins: [Popper],\n  data: () => ({\n    formdata: {\n      name: '',\n      // repos_name: '',\n      // repos_url: '',\n      image_name: '',\n      description: '',\n      mode: '0'\n    },\n    repos_idx: '0',\n    git_tip: '绑定github代码仓库',\n    githubs: [],\n    isEditor: false,\n    editorData: {}\n  }),\n  methods: {\n    addProject () {\n      let temp = this.githubs[this.repos_idx]\n      // console.log(this.formdata)\n      if (!temp) {\n        this.$toast('请先拉取来源', 'cc')\n        return\n      }\n      if (this.formdata.name === '') {\n        this.$toast('名称不能为空', 'cc')\n        return\n      }\n      if (this.formdata.image_name === '') {\n        this.$toast('镜像名称不能为空', 'cc')\n        return\n      }\n      if (this.formdata.description === '') {\n        this.$toast('描述不能为空', 'cc')\n        return\n      }\n      this.formdata.repos_name = temp.repos_name\n      this.formdata.repos_url = temp.repos_url\n      this.formdata.http_url = temp.http_url\n      if (this.isEditor) this.formdata.id = this.$route.params.id\n      this.$Global.async(this.isEditor ? 'project_update' : 'project_add', true).getData(this.formdata).then(d => {\n        if (d.status === 0) {\n          if (!this.isEditor) this.$router.push({name: 'Projects'})\n          else this.$router.push({name: 'ProjectDetail', params: {id: this.$route.params.id}})\n        }\n        this.$toast(this.isEditor ? '修改成功' : '添加成功', 'cc')\n        // console.log(d)\n      }, e => {\n        // this.$toast(e.response.data.message, 'cc')\n      })\n    },\n    bindGitHub () {\n      if (this.git_tip.indexOf('<img') !== -1) return\n      this.getApiData()\n    },\n    getApiData (cb) {\n      this.git_tip = '<img class=\"vam\" src=\"./static/img/spin.gif\"></img> <span class=\"vam\">数据加载中</span>'\n      // let tips = this.popperWaiting('读取中')\n      this.$Global.async('project_repos', true).getData().then(d => {\n        if (d.status === 0) {\n          this.githubs = d.data\n          this.repos_idx = '0'\n          this.git_tip = '重新绑定github代码仓库'\n          if (cb) cb()\n        } else {\n          this.$toast(d.message, 'cc')\n        }\n        // console.log(tips)\n        // tips.actionPopper()\n      })\n    },\n    initReposIdx () {\n      let i = -1\n      while (++i < this.githubs.length) {\n        let v = this.githubs[i]\n        if (v.repos_name === this.editorData.repos_name && v.repos_url === this.editorData.repos_url) {\n          this.repos_idx = i + ''\n          break\n        }\n      }\n    },\n    editorMode () {\n      this.$Global.async('project_detail', true).getData(null, this.$route.params.id).then(d => {\n        if (d.status === 0) {\n          let temp = this.editorData = d.data[0]\n          this.formdata.name = temp.name\n          this.formdata.description = temp.description\n          this.formdata.mode = temp.mode + ''\n          this.formdata.image_name = temp.image_name\n          this.getApiData(this.initReposIdx)\n        }\n      })\n    }\n  },\n  computed: {\n    gitLoadStyle () {\n      return this.git_tip.indexOf('<img') !== -1 ? 'loading' : ''\n    }\n  },\n  created () {\n    this.isEditor = this.$route.params.id !== undefined\n    if (this.isEditor) this.editorMode()\n    // this.getApiData()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ProjectAddMixin.js","<template>\n  <div class=\"page-pad page-project-add\">\n    <panel :title=\"isEditor?'项目修改':'添加项目'\">\n      <table class=\"add-table\">\n        <col width=\"20%\">\n        <col width=\"80%\">\n        <tbody>\n          <tr>\n            <td class=\"text-center\">名称</td>\n            <td><input type=\"text\" v-model=\"formdata.name\"></td>\n          </tr>\n          <tr>\n            <td class=\"text-center\">镜像名称</td>\n            <td style=\"position: relative;\">\n              <input type=\"text\" v-model=\"formdata.image_name\" placeholder=\"请输入小写字母\">\n              <p class=\"deploy-name_tip\">项目部署后以容器的形式运行：容器名称仅允许英文小写字母</p>\n            </td>\n          </tr>\n          <tr>\n            <td class=\"text-center\">项目描述</td>\n            <td><input type=\"text\" v-model=\"formdata.description\"></td>\n          </tr>\n          <tr>\n            <td class=\"text-center\">选择类别</td>\n            <td class=\"p-lr-16\">\n              <m-radio v-model=\"formdata.mode\" :data=\"{label: '普通项目', value: '0'}\" class=\"m-r8\"></m-radio>\n              <m-radio v-model=\"formdata.mode\" :data=\"{label: '基础服务', value: '1'}\" class=\"m-r8\"></m-radio>\n              <m-radio v-model=\"formdata.mode\" :data=\"{label: '应用组件', value: '2'}\"></m-radio>\n            </td>\n          </tr>\n          <tr>\n            <td class=\"text-center\">项目来源</td>\n            <td class=\"p-lr-16\">\n              <div class=\"btn-group\"><m-btn class=\"primary_bg no-radius grey-dark_txt btn-github\" :class=\"gitLoadStyle\" @click.native=\"bindGitHub\" v-html=\"git_tip\"></m-btn></div>\n              <div class=\"git-list\" v-if=\"githubs.length > 0\">\n                <table class=\"table hover striped machines-table theme-dft\">\n                  <thead>\n                  <tr>\n                    <th>仓库名称</th>\n                    <th>仓库路径</th>\n                  </tr>\n                  </thead>\n                  <tbody>\n                  <tr v-for=\"(item, i) in githubs\">\n                    <td><m-radio v-model=\"repos_idx\" :data=\"{label:item.repos_name, value:i+''}\"></m-radio></td>\n                    <td>{{item.repos_url}}</td>\n                  </tr>\n                  </tbody>\n                </table>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"p-16 text-center\"><m-btn class=\"primary_bg no-radius grey-dark_txt\" @click.native=\"addProject\">{{isEditor?'确定修改':'确定添加'}}</m-btn></div>\n    </panel>\n  </div>\n</template>\n\n<script>\n  import ProjectAddMixin from './ProjectAddMixin.js'\n  export default {\n    mixins: [ProjectAddMixin]\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// ProjectAdd.vue?44b53332","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-project-add\"\n  }, [_c('panel', {\n    attrs: {\n      \"title\": _vm.isEditor ? '项目修改' : '添加项目'\n    }\n  }, [_c('table', {\n    staticClass: \"add-table\"\n  }, [_c('col', {\n    attrs: {\n      \"width\": \"20%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"80%\"\n    }\n  }), _vm._v(\" \"), _c('tbody', [_c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"名称\")]), _vm._v(\" \"), _c('td', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.name),\n      expression: \"formdata.name\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.name = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"镜像名称\")]), _vm._v(\" \"), _c('td', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.image_name),\n      expression: \"formdata.image_name\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"请输入小写字母\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.image_name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.image_name = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"deploy-name_tip\"\n  }, [_vm._v(\"项目部署后以容器的形式运行：容器名称仅允许英文小写字母\")])])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"项目描述\")]), _vm._v(\" \"), _c('td', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.formdata.description),\n      expression: \"formdata.description\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.formdata.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.formdata.description = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择类别\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16\"\n  }, [_c('m-radio', {\n    staticClass: \"m-r8\",\n    attrs: {\n      \"data\": {\n        label: '普通项目',\n        value: '0'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  }), _vm._v(\" \"), _c('m-radio', {\n    staticClass: \"m-r8\",\n    attrs: {\n      \"data\": {\n        label: '基础服务',\n        value: '1'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  }), _vm._v(\" \"), _c('m-radio', {\n    attrs: {\n      \"data\": {\n        label: '应用组件',\n        value: '2'\n      }\n    },\n    model: {\n      value: (_vm.formdata.mode),\n      callback: function($$v) {\n        _vm.formdata.mode = $$v\n      },\n      expression: \"formdata.mode\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"项目来源\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16\"\n  }, [_c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt btn-github\",\n    class: _vm.gitLoadStyle,\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.git_tip)\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.bindGitHub($event)\n      }\n    }\n  })], 1), _vm._v(\" \"), (_vm.githubs.length > 0) ? _c('div', {\n    staticClass: \"git-list\"\n  }, [_c('table', {\n    staticClass: \"table hover striped machines-table theme-dft\"\n  }, [_c('thead', [_c('tr', [_c('th', [_vm._v(\"仓库名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"仓库路径\")])])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.githubs), function(item, i) {\n    return _c('tr', [_c('td', [_c('m-radio', {\n      attrs: {\n        \"data\": {\n          label: item.repos_name,\n          value: i + ''\n        }\n      },\n      model: {\n        value: (_vm.repos_idx),\n        callback: function($$v) {\n          _vm.repos_idx = $$v\n        },\n        expression: \"repos_idx\"\n      }\n    })], 1), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.repos_url))])])\n  }))])]) : _vm._e()])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.addProject($event)\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.isEditor ? '确定修改' : '确定添加'))])], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9364532\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProjectAdd.vue\n// module id = 240\n// module chunks = 11"],"sourceRoot":""}