{"version":3,"sources":["webpack:///static/js/3.5a798896f0911333477d.js","webpack:///./src/components/Deploy.vue","webpack:///./src/assets/spin.gif?a42c**","webpack:///./src/components/StatusCode.js?0703","webpack:///./src/components/DeployMixin.js","webpack:///Deploy.vue","webpack:///./src/components/Deploy.vue?7670","webpack:///./src/components/Deploy.vue?4f06","webpack:///./src/components/Deploy.vue?009a"],"names":["webpackJsonp","140","module","exports","__webpack_require__","Component","150","p","153","Object","defineProperty","value","default","business","0","1","2","3","4","machine","Pending","Stopped","Starting","Running","Stopping","Deleted","server","server_start","server_stop","server_reboot","173","_StatusCode","_StatusCode2","obj","__esModule","filters","mstatus","v","mclass","data","verdata","version","image_name","isDoing","methods","getVerList","_this","this","reload","undefined","$route","params","machines","$Global","async","getData","name","then","d","status","map","i","label","gomlist","temp","$router","replace","getMachineIps","public_ip","startDeploy","_this2","pdata","join","$toast","id","message","computed","created","183","_DeployMixin","_DeployMixin2","mixins","197","push","sources","names","mappings","file","sourcesContent","sourceRoot","201","content","locals","211","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","width","_v","datas","sizeh","model","callback","$$v","expression","staticStyle","position","directives","rawName","type","domProps","on","input","$event","target","composing","padding","nativeOn","click","length","_l","item","_s","address","class","_f","machine_status","_e","src","staticRenderFns"],"mappings":"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","file":"static/js/3.5a798896f0911333477d.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 140:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(201)\n\nvar Component = __webpack_require__(7)(\n  /* script */\n  __webpack_require__(183),\n  /* template */\n  __webpack_require__(211),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/spin.84f7c1b.gif\";\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  business: {\n    '0': ['运行中', 'primary_bg alpha-black_txt'],\n    '1': ['已停止', 'pink_bg alpha-black_txt'],\n    '2': ['启动中', 'primary_bg alpha-black_txt'],\n    '3': ['停止中', 'pink_bg alpha-black_txt'],\n    '4': ['满负载', 'pink_bg alpha-black_txt']\n  },\n  machine: {\n    'Pending': ['准备中', 'primary_bg alpha-black_txt', 'run'],\n    'Stopped': ['已停止', 'pink_bg alpha-black_txt', 'stop'],\n    'Starting': ['启动中', 'primary_bg alpha-black_txt', 'run', 'server_start'],\n    'Running': ['运行中', 'primary_bg alpha-black_txt', 'run'],\n    'Stopping': ['停止中', 'pink_bg alpha-black_txt', 'stop', 'server_stop'],\n    'Deleted': ['已释放', 'pink_bg alpha-black_txt', 'stop']\n  },\n  server: {\n    'server_start': [3, 'Starting', 'Running', '机器启动中，请耐心等待', '开机'],\n    'server_stop': [30, 'Stopping', 'Stopped', '机器关机中，请耐心等待', '关机'],\n    'server_reboot': [30, 'Stopping', 'Running', '机器重启中，请耐心等待', '重启机器']\n  }\n};\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _StatusCode = __webpack_require__(153);\n\nvar _StatusCode2 = _interopRequireDefault(_StatusCode);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  filters: {\n    'mstatus': function mstatus(v) {\n      return _StatusCode2.default.machine[v][0];\n    },\n    'mclass': function mclass(v) {\n      return _StatusCode2.default.machine[v][1];\n    }\n  },\n  data: function data() {\n    return {\n      verdata: [],\n      version: {},\n      image_name: '',\n      isDoing: false\n    };\n  },\n  methods: {\n    getVerList: function getVerList() {\n      var _this = this;\n\n      var reload = this.$route.params.machines === undefined;\n      this.$Global.async('project_image', reload).getData(null, this.$route.params.name + '/versions').then(function (d) {\n        if (d.status === 0) {\n          _this.verdata = d.data.map(function (v, i) {\n            return {\n              label: v.version,\n              value: v.version\n            };\n          });\n          _this.version = reload ? _this.verdata[0] : _this.$route.params.version;\n        }\n      });\n    },\n    gomlist: function gomlist() {\n      var temp = this.$route.params;\n      temp.version = this.version;\n      this.$router.replace({ name: 'Machines', params: temp });\n    },\n    getMachineIps: function getMachineIps() {\n      var temp = [];\n      if (this.$route.params.machines) temp = this.$route.params.machines;\n      return temp.map(function (v, i) {\n        return v.public_ip;\n      });\n    },\n    startDeploy: function startDeploy() {\n      var _this2 = this;\n\n      var pdata = {\n        image_name: this.image_name + ':' + this.version.value,\n        public_ip: this.getMachineIps().join(',')\n      };\n      if (this.image_name === '') {\n        this.$toast('容器名称不能为空', 'cc');\n        return;\n      }\n      if (!pdata.public_ip) {\n        this.$toast('请选择机器', 'cc');\n        return;\n      }\n      this.isDoing = true;\n      this.$Global.async('project_deployment', true).getData(pdata).then(function (d) {\n        if (d.status === 0) {\n          _this2.$router.replace({ name: 'ProjectDetail', params: { id: _this2.$route.params.id } });\n        }\n        _this2.$toast(d.message, 'cc');\n        _this2.isDoing = false;\n      });\n    }\n  },\n  computed: {\n    machines: function machines() {\n      return this.$route.params.machines || [];\n    }\n  },\n  created: function created() {\n    if (!this.$route.params.name) {\n      this.$router.replace({ name: 'ProjectDetail', params: { id: this.$route.params.id } });\n    } else {\n      this.image_name = this.$route.params.image_name || '';\n      this.getVerList();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _DeployMixin = __webpack_require__(173);\n\nvar _DeployMixin2 = _interopRequireDefault(_DeployMixin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  mixins: [_DeployMixin2.default]\n};\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(136)();\n// imports\n\n\n// module\nexports.push([module.i, \".deploy-name_tip{position:absolute;right:16px;top:50%;margin-top:-12px}\", \"\", {\"version\":3,\"sources\":[\"/Users/10com/FrontEnd/src/components/Deploy.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,gBAAkB,CACnB\",\"file\":\"Deploy.vue\",\"sourcesContent\":[\"\\n.deploy-name_tip {\\n  position: absolute;\\n  right: 16px;\\n  top: 50%;\\n  margin-top: -12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(197);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(137)(\"d9a13568\", content, true);\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-deploy\"\n  }, [_c('panel', {\n    attrs: {\n      \"title\": \"部署\"\n    }\n  }, [_c('table', {\n    staticClass: \"add-table\"\n  }, [_c('col', {\n    attrs: {\n      \"width\": \"20%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"80%\"\n    }\n  }), _vm._v(\" \"), _c('tbody', [_c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择版本\")]), _vm._v(\" \"), _c('td', [_c('m-select', {\n    attrs: {\n      \"datas\": _vm.verdata,\n      \"sizeh\": 50\n    },\n    model: {\n      value: (_vm.version),\n      callback: function($$v) {\n        _vm.version = $$v\n      },\n      expression: \"version\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"容器名称\")]), _vm._v(\" \"), _c('td', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.image_name),\n      expression: \"image_name\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.image_name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.image_name = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"deploy-name_tip\"\n  }, [_vm._v(\"项目部署后以容器的形式运行：容器名称仅允许英文小写字母\")])])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择服务器\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16 p-b16\"\n  }, [_c('div', {\n    staticStyle: {\n      \"padding\": \"16px 0\"\n    }\n  }, [_c('m-btn', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.gomlist($event)\n      }\n    }\n  }, [_vm._v(\"进入机器列表\")])], 1), _vm._v(\" \"), (_vm.machines.length > 0) ? _c('div', {\n    staticClass: \"git-list\"\n  }, [_c('table', {\n    staticClass: \"table hover striped machines-table theme-dft\"\n  }, [_c('thead', [_c('tr', [_c('th', [_vm._v(\"名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"服务商\")]), _vm._v(\" \"), _c('th', [_vm._v(\"地址\")]), _vm._v(\" \"), _c('th', [_vm._v(\"IP\")]), _vm._v(\" \"), _c('th', [_vm._v(\"状态\")])])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.machines), function(item, i) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('td', [_vm._v(\"阿里云\")]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.address))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.public_ip))]), _vm._v(\" \"), _c('td', [_c('span', {\n      staticClass: \"plate\",\n      class: _vm._f(\"mclass\")(item.machine_status)\n    }, [_vm._v(_vm._s(_vm._f(\"mstatus\")(item.machine_status)))])])])\n  }))])]) : _vm._e()])])])]), _vm._v(\" \"), (!_vm.isDoing) ? _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.startDeploy($event)\n      }\n    }\n  }, [_vm._v(\"开始部署\")])], 1) : _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('img', {\n    staticClass: \"vam\",\n    attrs: {\n      \"src\": __webpack_require__(150)\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"vam\"\n  }, [_vm._v(\"部署中请耐心等待...\")])])])], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.5a798896f0911333477d.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-52e40f86\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Deploy.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Deploy.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52e40f86\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Deploy.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Deploy.vue\n// module id = 140\n// module chunks = 3","module.exports = __webpack_public_path__ + \"static/img/spin.84f7c1b.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/spin.gif\n// module id = 150\n// module chunks = 0 1 2 3 5","export default {\n  business: {\n    '0': ['运行中', 'primary_bg alpha-black_txt'],\n    '1': ['已停止', 'pink_bg alpha-black_txt'],\n    '2': ['启动中', 'primary_bg alpha-black_txt'],\n    '3': ['停止中', 'pink_bg alpha-black_txt'],\n    '4': ['满负载', 'pink_bg alpha-black_txt']\n  },\n  machine: {\n    'Pending': ['准备中', 'primary_bg alpha-black_txt', 'run'],\n    'Stopped': ['已停止', 'pink_bg alpha-black_txt', 'stop'],\n    'Starting': ['启动中', 'primary_bg alpha-black_txt', 'run', 'server_start'],\n    'Running': ['运行中', 'primary_bg alpha-black_txt', 'run'],\n    'Stopping': ['停止中', 'pink_bg alpha-black_txt', 'stop', 'server_stop'],\n    'Deleted': ['已释放', 'pink_bg alpha-black_txt', 'stop']\n  },\n  server: {\n    'server_start': [3, 'Starting', 'Running', '机器启动中，请耐心等待', '开机'],\n    'server_stop': [30, 'Stopping', 'Stopped', '机器关机中，请耐心等待', '关机'],\n    'server_reboot': [30, 'Stopping', 'Running', '机器重启中，请耐心等待', '重启机器']\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StatusCode.js","import StatusCode from './StatusCode.js'\nexport default {\n  filters: {\n    'mstatus' (v) {\n      return StatusCode.machine[v][0]\n    },\n    'mclass' (v) {\n      return StatusCode.machine[v][1]\n    }\n  },\n  data: () => ({\n    verdata: [],\n    version: {},\n    image_name: '',\n    isDoing: false\n  }),\n  methods: {\n    getVerList () {\n      const reload = this.$route.params.machines === undefined\n      this.$Global.async('project_image', reload).getData(null, this.$route.params.name + '/versions').then(d => {\n        if (d.status === 0) {\n          this.verdata = d.data.map((v, i) => {\n            return {\n              label: v.version,\n              value: v.version\n            }\n          })\n          this.version = reload ? this.verdata[0] : this.$route.params.version\n        }\n      })\n    },\n    gomlist () {\n      let temp = this.$route.params\n      temp.version = this.version\n      this.$router.replace({name: 'Machines', params: temp})\n    },\n    getMachineIps () {\n      let temp = []\n      if (this.$route.params.machines) temp = this.$route.params.machines\n      return temp.map((v, i) => {\n        return v.public_ip\n      })\n    },\n    startDeploy () {\n      let pdata = {\n        image_name: this.image_name + ':' + this.version.value,\n        public_ip: this.getMachineIps().join(',')\n      }\n      if (this.image_name === '') {\n        this.$toast('容器名称不能为空', 'cc')\n        return\n      }\n      if (!pdata.public_ip) {\n        this.$toast('请选择机器', 'cc')\n        return\n      }\n      this.isDoing = true\n      this.$Global.async('project_deployment', true).getData(pdata).then(d => {\n        if (d.status === 0) {\n          this.$router.replace({name: 'ProjectDetail', params: {id: this.$route.params.id}})\n        }\n        this.$toast(d.message, 'cc')\n        this.isDoing = false\n      })\n    }\n  },\n  computed: {\n    machines () {\n      return this.$route.params.machines || []\n    }\n  },\n  created () {\n    if (!this.$route.params.name) {\n      this.$router.replace({name: 'ProjectDetail', params: {id: this.$route.params.id}})\n    } else {\n      this.image_name = this.$route.params.image_name || ''\n      this.getVerList()\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/DeployMixin.js","<template>\n  <div class=\"page-pad page-deploy\">\n    <panel title=\"部署\">\n      <table class=\"add-table\">\n        <col width=\"20%\">\n        <col width=\"80%\">\n        <tbody>\n        <tr>\n          <td class=\"text-center\">选择版本</td>\n          <td>\n            <m-select v-model=\"version\" :datas=\"verdata\" :sizeh=\"50\"></m-select>\n          </td>\n        </tr>\n        <tr>\n          <td class=\"text-center\">容器名称</td>\n          <td style=\"position: relative;\">\n            <input type=\"text\" v-model=\"image_name\">\n            <p class=\"deploy-name_tip\">项目部署后以容器的形式运行：容器名称仅允许英文小写字母</p>\n          </td>\n        </tr>\n        <tr>\n          <td class=\"text-center\">选择服务器</td>\n          <td class=\"p-lr-16 p-b16\">\n            <div style=\"padding: 16px 0\">\n              <m-btn @click.native=\"gomlist\">进入机器列表</m-btn>\n            </div>\n            <div class=\"git-list\" v-if=\"machines.length > 0\">\n              <table class=\"table hover striped machines-table theme-dft\">\n                <thead>\n                <tr>\n                  <th>名称</th>\n                  <th>服务商</th>\n                  <th>地址</th>\n                  <th>IP</th>\n                  <th>状态</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for=\"(item, i) in machines\">\n                  <td>{{item.name}}</td>\n                  <td>阿里云</td>\n                  <td>{{item.address}}</td>\n                  <td>{{item.public_ip}}</td>\n                  <td><span class=\"plate\" :class=\"item.machine_status | mclass\">{{item.machine_status | mstatus}}</span></td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n      <div class=\"p-16 text-center\" v-if=\"!isDoing\"><m-btn class=\"primary_bg no-radius grey-dark_txt\" @click.native=\"startDeploy\">开始部署</m-btn></div>\n      <div class=\"p-16 text-center\" v-else>\n        <img class=\"vam\" src=\"../assets/spin.gif\"></img> <span class=\"vam\">部署中请耐心等待...</span>\n      </div>\n    </panel>\n  </div>\n</template>\n\n<script>\n  import DeployMixin from './DeployMixin.js'\n  export default {\n    mixins: [DeployMixin]\n  }\n</script>\n\n<style>\n  .deploy-name_tip {\n    position: absolute;\n    right: 16px;\n    top: 50%;\n    margin-top: -12px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Deploy.vue?50fa258e","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".deploy-name_tip{position:absolute;right:16px;top:50%;margin-top:-12px}\", \"\", {\"version\":3,\"sources\":[\"/Users/10com/FrontEnd/src/components/Deploy.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,WAAY,AACZ,QAAS,AACT,gBAAkB,CACnB\",\"file\":\"Deploy.vue\",\"sourcesContent\":[\"\\n.deploy-name_tip {\\n  position: absolute;\\n  right: 16px;\\n  top: 50%;\\n  margin-top: -12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-52e40f86\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Deploy.vue\n// module id = 197\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-52e40f86\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Deploy.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"d9a13568\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-52e40f86\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Deploy.vue\n// module id = 201\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-deploy\"\n  }, [_c('panel', {\n    attrs: {\n      \"title\": \"部署\"\n    }\n  }, [_c('table', {\n    staticClass: \"add-table\"\n  }, [_c('col', {\n    attrs: {\n      \"width\": \"20%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"80%\"\n    }\n  }), _vm._v(\" \"), _c('tbody', [_c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择版本\")]), _vm._v(\" \"), _c('td', [_c('m-select', {\n    attrs: {\n      \"datas\": _vm.verdata,\n      \"sizeh\": 50\n    },\n    model: {\n      value: (_vm.version),\n      callback: function($$v) {\n        _vm.version = $$v\n      },\n      expression: \"version\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"容器名称\")]), _vm._v(\" \"), _c('td', {\n    staticStyle: {\n      \"position\": \"relative\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.image_name),\n      expression: \"image_name\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.image_name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.image_name = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"deploy-name_tip\"\n  }, [_vm._v(\"项目部署后以容器的形式运行：容器名称仅允许英文小写字母\")])])]), _vm._v(\" \"), _c('tr', [_c('td', {\n    staticClass: \"text-center\"\n  }, [_vm._v(\"选择服务器\")]), _vm._v(\" \"), _c('td', {\n    staticClass: \"p-lr-16 p-b16\"\n  }, [_c('div', {\n    staticStyle: {\n      \"padding\": \"16px 0\"\n    }\n  }, [_c('m-btn', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.gomlist($event)\n      }\n    }\n  }, [_vm._v(\"进入机器列表\")])], 1), _vm._v(\" \"), (_vm.machines.length > 0) ? _c('div', {\n    staticClass: \"git-list\"\n  }, [_c('table', {\n    staticClass: \"table hover striped machines-table theme-dft\"\n  }, [_c('thead', [_c('tr', [_c('th', [_vm._v(\"名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"服务商\")]), _vm._v(\" \"), _c('th', [_vm._v(\"地址\")]), _vm._v(\" \"), _c('th', [_vm._v(\"IP\")]), _vm._v(\" \"), _c('th', [_vm._v(\"状态\")])])]), _vm._v(\" \"), _c('tbody', _vm._l((_vm.machines), function(item, i) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(item.name))]), _vm._v(\" \"), _c('td', [_vm._v(\"阿里云\")]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.address))]), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(item.public_ip))]), _vm._v(\" \"), _c('td', [_c('span', {\n      staticClass: \"plate\",\n      class: _vm._f(\"mclass\")(item.machine_status)\n    }, [_vm._v(_vm._s(_vm._f(\"mstatus\")(item.machine_status)))])])])\n  }))])]) : _vm._e()])])])]), _vm._v(\" \"), (!_vm.isDoing) ? _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('m-btn', {\n    staticClass: \"primary_bg no-radius grey-dark_txt\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.startDeploy($event)\n      }\n    }\n  }, [_vm._v(\"开始部署\")])], 1) : _c('div', {\n    staticClass: \"p-16 text-center\"\n  }, [_c('img', {\n    staticClass: \"vam\",\n    attrs: {\n      \"src\": require(\"../assets/spin.gif\")\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"vam\"\n  }, [_vm._v(\"部署中请耐心等待...\")])])])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-52e40f86\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Deploy.vue\n// module id = 211\n// module chunks = 3"],"sourceRoot":""}