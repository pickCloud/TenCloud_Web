{"version":3,"sources":["webpack:///static/js/6.70cbe8c67eb5ed0fb255.js","webpack:///./src/components/UserInfo.vue","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///./src/Qiniu.js","webpack:///UserInfo.vue","webpack:///./src/components/UserInfo.vue?4bcb","webpack:///./src/components/UserInfo.vue?7e63","webpack:///./src/components/UserInfo.vue?60dd"],"names":["webpackJsonp","147","module","exports","__webpack_require__","Component","161","default","__esModule","165","core","$JSON","JSON","stringify","it","apply","arguments","181","upload","f","token","key","ing","length","undefined","_promise2","resolve","reject","xhr","XMLHttpRequest","open","formData","FormData","append","addEventListener","evt","lengthComputable","percentComplete","Math","round","loaded","total","call","onreadystatechange","response","readyState","status","responseText","blkRet","parse","send","Object","defineProperty","value","_promise","obj","202","_stringify","_stringify2","_Qiniu","Qiniu","newObj","prototype","hasOwnProperty","data","infos","id","name","mobile","email","image_url","isEditor","updateing","thumbFile","watch","n","o","this","changeInpState","methods","getApiData","_this","$Global","async","getData","then","d","$el","querySelectorAll","forEach","v","i","removeAttribute","setAttribute","cancelHandle","temp_data","editorHandle","checkChangeData","old","result","ov","nv","sureHandle","_this2","cdata","$toast","message","confirm","actionPopper","headHeigth","headel","querySelector","style","height","clientWidth","getThumbToken","_this3","fileChange","e","target","h","$createElement","$confirm","content","attrs","class","themeClass","hasClose","maskClose","buttons","files","mounted","created","_this4","resizeFunc","window","destroyed","removeEventListener","212","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","220","locals","239","render","_vm","_h","_c","_self","staticClass","slot","_v","_e","nativeOn","click","$event","_s","directives","rawName","expression","editor","type","domProps","on","input","composing","title","gutter","src","alt","staticStyle","line-height","change","for","staticRenderFns"],"mappings":"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","file":"static/js/6.70cbe8c67eb5ed0fb255.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(220)\n\nvar Component = __webpack_require__(7)(\n  /* script */\n  __webpack_require__(202),\n  /* template */\n  __webpack_require__(239),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(165), __esModule: true };\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(3)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(64);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nexports.upload = upload;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction upload(f, token, key) {\n  var ing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  return new _promise2.default(function (resolve, reject) {\n    var QiniuUploadUrl = 'http://up-z2.qiniu.com';\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', QiniuUploadUrl, true);\n    var formData = new FormData();\n    if (key) formData.append('key', key);\n    formData.append('token', token);\n    formData.append('file', f);\n\n    xhr.upload.addEventListener('progress', function (evt) {\n      if (evt.lengthComputable) {\n        var percentComplete = Math.round(evt.loaded * 100 / evt.total);\n        if (ing) ing.call(percentComplete);\n      }\n    }, false);\n    xhr.onreadystatechange = function (response) {\n      if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText !== '') {\n        var blkRet = JSON.parse(xhr.responseText);\n\n        resolve(blkRet);\n      } else if (xhr.status !== 200 && xhr.responseText) {\n        reject();\n      }\n    };\n    xhr.send(formData);\n  });\n}\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(161);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _Qiniu = __webpack_require__(181);\n\nvar Qiniu = _interopRequireWildcard(_Qiniu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      infos: {\n        'id': 1,\n        'name': '',\n        'mobile': '',\n        'email': '',\n        'image_url': ''\n      },\n      isEditor: false,\n      updateing: false,\n      thumbFile: ''\n    };\n  },\n  watch: {\n    isEditor: function isEditor(n, o) {\n      this.changeInpState(n);\n    }\n  },\n  methods: {\n    getApiData: function getApiData() {\n      var _this = this;\n\n      this.$Global.async('user_info', true).getData(null).then(function (d) {\n        _this.infos = d.data;\n      });\n    },\n    changeInpState: function changeInpState(n) {\n      this.$el.querySelectorAll('.inp-editor').forEach(function (v, i) {\n        if (!n) v.setAttribute('disabled', true);else v.removeAttribute('disabled');\n      });\n    },\n    cancelHandle: function cancelHandle() {\n      this.isEditor = false;\n      this.infos = JSON.parse(this.temp_data);\n    },\n    editorHandle: function editorHandle() {\n      this.isEditor = true;\n      this.temp_data = (0, _stringify2.default)(this.infos);\n    },\n    checkChangeData: function checkChangeData() {\n      var old = JSON.parse(this.temp_data);\n      var result = null;\n      for (var key in this.infos) {\n        var ov = old[key];\n        var nv = this.infos[key];\n        if (nv !== ov) {\n          if (result === null) result = {};\n          result[key] = nv;\n        }\n      }\n      return result;\n    },\n    sureHandle: function sureHandle() {\n      var _this2 = this;\n\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      var cdata = data || this.checkChangeData();\n      if (cdata === null || this.updateing) return;\n\n      this.updateing = true;\n      this.$Global.async('user_update', true).getData(cdata).then(function (d) {\n        _this2.$toast(d.message, 'cc');\n        _this2.isEditor = false;\n        _this2.updateing = false;\n        _this2.getApiData();\n        if (_this2.confirm) {\n          _this2.confirm.actionPopper(false);\n          _this2.confirm = null;\n        }\n      });\n    },\n    headHeigth: function headHeigth() {\n      var headel = this.$el.querySelector('.info-head');\n      headel.style.height = headel.clientWidth + 'px';\n    },\n    getThumbToken: function getThumbToken() {\n      var _this3 = this;\n\n      this.$Global.async('user_thumb_token', true).getData(null).then(function (d) {\n        Qiniu.upload(_this3.thumbFile, d.data.token).then(function (d) {\n          _this3.sureHandle({ image_url: d.key });\n        });\n      });\n    },\n    fileChange: function fileChange(e) {\n      if (e.target.value === '') return;\n      var h = this.$createElement;\n      this.confirm = this.$confirm({\n        content: h('div', null, [h('span', { attrs: { class: 'vam' } }, '上传中'), h('div', { attrs: { class: 'vam spinner' } }, [h('div', { attrs: { class: 'bounce1' } }), h('div', { attrs: { class: 'bounce2' } }), h('div', { attrs: { class: 'bounce3' } })])]),\n        themeClass: 'msg-upload',\n        hasClose: false,\n        maskClose: false,\n        buttons: []\n      });\n      this.thumbFile = e.target.files[0];\n      this.getThumbToken();\n    }\n  },\n  mounted: function mounted() {\n    this.changeInpState(false);\n    this.headHeigth();\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.getApiData();\n    this.resizeFunc = function () {\n      _this4.headHeigth();\n    };\n    window.addEventListener('resize', this.resizeFunc);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('resize', this.resizeFunc);\n  }\n};\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(135)();\n// imports\n\n\n// module\nexports.push([module.i, \".info-head{width:50%;margin:0 auto;border-radius:50%;background-color:#1d212a;overflow:hidden}.info-head img{width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/FrontEnd/src/components/UserInfo.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,UAAW,AACX,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,eAAiB,CAClB,AACD,eACI,UAAY,CACf\",\"file\":\"UserInfo.vue\",\"sourcesContent\":[\"\\n.info-head {\\n  width: 50%;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  background-color: #1d212a;\\n  overflow: hidden;\\n}\\n.info-head img {\\n    width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(212);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(136)(\"5c563cb8\", content, true);\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-userinfo\"\n  }, [_c('panel', {\n    staticClass: \"m-b16\"\n  }, [_c('div', {\n    staticClass: \"panel-title\",\n    slot: \"title\"\n  }, [_vm._v(\"\\n      账号安全\\n      \"), (!_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editorHandle($event)\n      }\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelHandle($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04 m-r8\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.sureHandle($event)\n      }\n    }\n  }, [_vm._v(\"保存\")]) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"手机号码\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.infos.mobile) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.infos.email),\n      expression: \"infos.email\"\n    }],\n    staticClass: \"inp-editor\",\n    class: {\n      'editor': _vm.isEditor\n    },\n    attrs: {\n      \"type\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.infos.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.infos.email = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('panel', {\n    attrs: {\n      \"title\": \"基本信息\"\n    }\n  }, [_c('m-row', {\n    staticClass: \"p-16\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('m-col', {\n    staticClass: \"xs-12 md-4 text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"info-head m-b16\"\n  }, [(_vm.infos.image_url) ? _c('img', {\n    attrs: {\n      \"src\": _vm.infos.image_url,\n      \"alt\": \"\"\n    }\n  }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"formbylabel file theme-dft\",\n    staticStyle: {\n      \"height\": \"32px\",\n      \"line-height\": \"32px\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"a5wpj6gl9z\",\n      \"name\": \"file\"\n    },\n    on: {\n      \"change\": _vm.fileChange\n    }\n  }), _vm._v(\" \"), _c('label', {\n    staticClass: \"file-label\",\n    attrs: {\n      \"for\": \"a5wpj6gl9z\"\n    }\n  }, [_vm._v(\"修改头像\")])])]), _vm._v(\" \"), _c('p', [_c('i', {\n    staticClass: \"icon icon-xinxi-yin m-r8\"\n  }), _vm._v(\"仅支持JPG、PNG格式，文件小于1M（方形图）\")])]), _vm._v(\" \"), _c('m-col', {\n    staticClass: \"xs-12 md-8\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"姓名\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-bg\"\n  }, [_vm._v(_vm._s(_vm.infos.name))])])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.70cbe8c67eb5ed0fb255.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-799a56f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserInfo.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-799a56f8\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserInfo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserInfo.vue\n// module id = 147\n// module chunks = 6","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 161\n// module chunks = 6 9","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 165\n// module chunks = 6 9","export function upload (f, token, key, ing = null) {\n  return new Promise((resolve, reject) => {\n    const QiniuUploadUrl = 'http://up-z2.qiniu.com'\n    let xhr = new XMLHttpRequest()\n    xhr.open('POST', QiniuUploadUrl, true)\n    let formData = new FormData()\n    if (key) formData.append('key', key)\n    formData.append('token', token)\n    formData.append('file', f)\n    // formData.append('fileBinaryData', f)\n    xhr.upload.addEventListener('progress', evt => {\n      if (evt.lengthComputable) {\n        let percentComplete = Math.round(evt.loaded * 100 / evt.total)\n        if (ing) ing.call(percentComplete)\n        // console.log(percentComplete)\n        // console && console.log(percentComplete, \",\", formatSpeed);\n      }\n    }, false)\n    xhr.onreadystatechange = function (response) {\n      if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText !== '') {\n        let blkRet = JSON.parse(xhr.responseText)\n        // console && console.log(blkRet)\n        resolve(blkRet)\n      } else if (xhr.status !== 200 && xhr.responseText) {\n        reject()\n      }\n    }\n    xhr.send(formData)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Qiniu.js","<template>\n  <div class='page-pad page-userinfo'>\n    <panel class='m-b16'>\n      <div class=\"panel-title\" slot=\"title\">\n        账号安全\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04\" v-if=\"!isEditor\" @click.native=\"editorHandle\">修改</m-btn>\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04\" v-if=\"isEditor\" @click.native=\"cancelHandle\">取消</m-btn>\n        <m-btn class=\"right primary_bg grey-dark_txt m-t04 m-r8\" v-if=\"isEditor\" @click.native=\"sureHandle\">保存</m-btn>\n      </div>\n      <div class=\"p-16\">\n        <!--<div class=\"lay-left-right\">-->\n          <!--<div class=\"lay-left\">账号</div>-->\n          <!--<div class=\"lay-right lay-border-bottom\">-->\n            <!--<input type=\"text\" class=\"inp-editor\" :class=\"{'editor':isEditor}\" v-model=\"infos.name\">-->\n          <!--</div>-->\n        <!--</div>-->\n        <div class=\"lay-left-right\">\n          <div class=\"lay-left\">手机号码</div>\n          <div class=\"lay-right lay-border-bottom\">\n            {{infos.mobile}}\n          </div>\n        </div>\n        <div class=\"lay-left-right\">\n          <div class=\"lay-left\">邮箱</div>\n          <div class=\"lay-right lay-border-bottom\">\n            <input type=\"email\" class=\"inp-editor\" :class=\"{'editor':isEditor}\" v-model=\"infos.email\">\n          </div>\n        </div>\n      </div>\n    </panel>\n    <panel title='基本信息'>\n      <m-row class=\"p-16\" :gutter=\"16\">\n        <m-col class=\"xs-12 md-4 text-center m-b16\">\n          <div class=\"info-head m-b16\">\n            <img :src=\"infos.image_url\" alt=\"\" v-if=\"infos.image_url\">\n          </div>\n          <div class=\"text-center m-b16\">\n            <div class=\"formbylabel file theme-dft\" style=\"height: 32px; line-height: 32px;\">\n              <input type=\"file\" id=\"a5wpj6gl9z\" name=\"file\" @change=\"fileChange\">\n              <label for=\"a5wpj6gl9z\" class=\"file-label\">修改头像</label>\n            </div>\n            <!--<m-btn class=\"lay-border\">修改头像</m-btn>-->\n          </div>\n          <p><i class=\"icon icon-xinxi-yin m-r8\"></i>仅支持JPG、PNG格式，文件小于1M（方形图）</p>\n        </m-col>\n        <m-col class=\"xs-12 md-8\">\n          <div class=\"lay-left-right\">\n            <div class=\"lay-left\">姓名</div>\n            <div class=\"lay-right lay-bg\">{{infos.name}}</div>\n          </div>\n        </m-col>\n      </m-row>\n    </panel>\n  </div>\n</template>\n\n<script>\n  import * as Qiniu from '../Qiniu'\n  export default {\n    data: () => ({\n      infos: {\n        'id': 1,\n        'name': '',\n        'mobile': '',\n        'email': '',\n        'image_url': ''\n      },\n      isEditor: false,\n      updateing: false,\n      thumbFile: ''\n    }),\n    watch: {\n      isEditor (n, o) {\n        this.changeInpState(n)\n      }\n    },\n    methods: {\n      getApiData () {\n        this.$Global.async('user_info', true).getData(null).then(d => {\n          this.infos = d.data\n        })\n      },\n      changeInpState (n) {\n        this.$el.querySelectorAll('.inp-editor').forEach((v, i) => {\n          if (!n) v.setAttribute('disabled', true)\n          else v.removeAttribute('disabled')\n        })\n      },\n      cancelHandle () {\n        this.isEditor = false\n        this.infos = JSON.parse(this.temp_data)\n      },\n      editorHandle () {\n        this.isEditor = true\n        this.temp_data = JSON.stringify(this.infos)\n      },\n      checkChangeData () {\n        const old = JSON.parse(this.temp_data)\n        let result = null\n        for (let key in this.infos) {\n          let ov = old[key]\n          let nv = this.infos[key]\n          if (nv !== ov) {\n            if (result === null) result = {}\n            result[key] = nv\n          }\n        }\n        return result\n      },\n      sureHandle (data = null) {\n        let cdata = data || this.checkChangeData()\n        if (cdata === null || this.updateing) return\n\n        this.updateing = true\n        this.$Global.async('user_update', true).getData(cdata).then(d => {\n          this.$toast(d.message, 'cc')\n          this.isEditor = false\n          this.updateing = false\n          this.getApiData()\n          if (this.confirm) {\n            this.confirm.actionPopper(false)\n            this.confirm = null\n          }\n        })\n      },\n      headHeigth () {\n        const headel = this.$el.querySelector('.info-head')\n        headel.style.height = headel.clientWidth + 'px'\n      },\n      getThumbToken () {\n        this.$Global.async('user_thumb_token', true).getData(null).then(d => {\n          Qiniu.upload(this.thumbFile, d.data.token).then(d => {\n            this.sureHandle({image_url: d.key})\n          })\n        })\n      },\n      fileChange (e) {\n        if (e.target.value === '') return\n        const h = this.$createElement\n        this.confirm = this.$confirm({\n          content: h('div', null, [\n            h('span', {attrs: {class: 'vam'}}, '上传中'),\n            h('div', {attrs: {class: 'vam spinner'}}, [\n              h('div', {attrs: {class: 'bounce1'}}),\n              h('div', {attrs: {class: 'bounce2'}}),\n              h('div', {attrs: {class: 'bounce3'}})\n            ])\n          ]),\n          themeClass: 'msg-upload',\n          hasClose: false,\n          maskClose: false,\n          buttons: []\n        })\n        this.thumbFile = e.target.files[0]\n        this.getThumbToken()\n      }\n    },\n    mounted () {\n      this.changeInpState(false)\n      this.headHeigth()\n    },\n    created () {\n      this.getApiData()\n      this.resizeFunc = () => {\n        this.headHeigth()\n//        console.log(22)\n      }\n      window.addEventListener('resize', this.resizeFunc)\n    },\n    destroyed () {\n      window.removeEventListener('resize', this.resizeFunc)\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .info-head {\n    width: 50%;\n    margin: 0 auto;\n    border-radius: 50%;\n    background-color: #1d212a;\n    overflow: hidden;\n    img {\n      width: 100%;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// UserInfo.vue?017d02fa","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".info-head{width:50%;margin:0 auto;border-radius:50%;background-color:#1d212a;overflow:hidden}.info-head img{width:100%}\", \"\", {\"version\":3,\"sources\":[\"D:/FrontEnd/src/components/UserInfo.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,UAAW,AACX,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,eAAiB,CAClB,AACD,eACI,UAAY,CACf\",\"file\":\"UserInfo.vue\",\"sourcesContent\":[\"\\n.info-head {\\n  width: 50%;\\n  margin: 0 auto;\\n  border-radius: 50%;\\n  background-color: #1d212a;\\n  overflow: hidden;\\n}\\n.info-head img {\\n    width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-799a56f8\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UserInfo.vue\n// module id = 212\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-799a56f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./UserInfo.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5c563cb8\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-799a56f8\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/UserInfo.vue\n// module id = 220\n// module chunks = 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-pad page-userinfo\"\n  }, [_c('panel', {\n    staticClass: \"m-b16\"\n  }, [_c('div', {\n    staticClass: \"panel-title\",\n    slot: \"title\"\n  }, [_vm._v(\"\\n      账号安全\\n      \"), (!_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editorHandle($event)\n      }\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.cancelHandle($event)\n      }\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEditor) ? _c('m-btn', {\n    staticClass: \"right primary_bg grey-dark_txt m-t04 m-r8\",\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.sureHandle($event)\n      }\n    }\n  }, [_vm._v(\"保存\")]) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"p-16\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"手机号码\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.infos.mobile) + \"\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-border-bottom\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.infos.email),\n      expression: \"infos.email\"\n    }],\n    staticClass: \"inp-editor\",\n    class: {\n      'editor': _vm.isEditor\n    },\n    attrs: {\n      \"type\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.infos.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.infos.email = $event.target.value\n      }\n    }\n  })])])])]), _vm._v(\" \"), _c('panel', {\n    attrs: {\n      \"title\": \"基本信息\"\n    }\n  }, [_c('m-row', {\n    staticClass: \"p-16\",\n    attrs: {\n      \"gutter\": 16\n    }\n  }, [_c('m-col', {\n    staticClass: \"xs-12 md-4 text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"info-head m-b16\"\n  }, [(_vm.infos.image_url) ? _c('img', {\n    attrs: {\n      \"src\": _vm.infos.image_url,\n      \"alt\": \"\"\n    }\n  }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text-center m-b16\"\n  }, [_c('div', {\n    staticClass: \"formbylabel file theme-dft\",\n    staticStyle: {\n      \"height\": \"32px\",\n      \"line-height\": \"32px\"\n    }\n  }, [_c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"a5wpj6gl9z\",\n      \"name\": \"file\"\n    },\n    on: {\n      \"change\": _vm.fileChange\n    }\n  }), _vm._v(\" \"), _c('label', {\n    staticClass: \"file-label\",\n    attrs: {\n      \"for\": \"a5wpj6gl9z\"\n    }\n  }, [_vm._v(\"修改头像\")])])]), _vm._v(\" \"), _c('p', [_c('i', {\n    staticClass: \"icon icon-xinxi-yin m-r8\"\n  }), _vm._v(\"仅支持JPG、PNG格式，文件小于1M（方形图）\")])]), _vm._v(\" \"), _c('m-col', {\n    staticClass: \"xs-12 md-8\"\n  }, [_c('div', {\n    staticClass: \"lay-left-right\"\n  }, [_c('div', {\n    staticClass: \"lay-left\"\n  }, [_vm._v(\"姓名\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"lay-right lay-bg\"\n  }, [_vm._v(_vm._s(_vm.infos.name))])])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-799a56f8\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserInfo.vue\n// module id = 239\n// module chunks = 6"],"sourceRoot":""}