webpackJsonp([12],{250:function(t,e,n){n(465);var i=n(4)(n(434),n(507),null,null);t.exports=i.exports},257:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},260:function(t,e,n){"use strict";(function(t){var e=n(21),i=function(t){return t&&t.__esModule?t:{default:t}}(e);!function(e,n){"object"===(0,i.default)(t)&&"object"===(0,i.default)(t.exports)?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("Geetest requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:void 0,function(t,e){function n(t){this._obj=t}function o(t){var e=this;new n(t)._each(function(t,n){e[t]=n})}if(void 0===t)throw new Error("Geetest requires browser environment");var a=t.document,r=t.Math,s=a.getElementsByTagName("head")[0];n.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},o.prototype={api_server:"api.geetest.com",protocol:"http://",type_path:"/gettype.php",fallback_config:{slide:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"slide",slide:"/static/js/geetest.0.0.0.js"},fullpage:{static_servers:["static.geetest.com","dn-staticdown.qbox.me"],type:"fullpage",fullpage:"/static/js/fullpage.0.0.0.js"}},_get_fallback_config:function(){var t=this;return l(t.type)?t.fallback_config[t.type]:t.new_captcha?t.fallback_config.fullpage:t.fallback_config.slide},_extend:function(t){var e=this;new n(t)._each(function(t,n){e[t]=n})}};var c=function(t){return"number"==typeof t},l=function(t){return"string"==typeof t},p=function(t){return"boolean"==typeof t},u=function(t){return"object"===(void 0===t?"undefined":(0,i.default)(t))&&null!==t},d=function(t){return"function"==typeof t},f={},g={},h=function(){return parseInt(1e4*r.random())+(new Date).valueOf()},v=function(t,e){var n=a.createElement("script");n.charset="UTF-8",n.async=!0,n.onerror=function(){e(!0)};var i=!1;n.onload=n.onreadystatechange=function(){i||n.readyState&&"loaded"!==n.readyState&&"complete"!==n.readyState||(i=!0,setTimeout(function(){e(!1)},0))},n.src=t,s.appendChild(n)},A=function(t){return t.replace(/^https?:\/\/|\/$/g,"")},_=function(t){return t=t.replace(/\/+/g,"/"),0!==t.indexOf("/")&&(t="/"+t),t},m=function(t){if(!t)return"";var e="?";return new n(t)._each(function(t,n){(l(n)||c(n)||p(n))&&(e=e+encodeURIComponent(t)+"="+encodeURIComponent(n)+"&")}),"?"===e&&(e=""),e.replace(/&$/,"")},b=function(t,e,n,i){e=A(e);var o=_(n)+m(i);return e&&(o=t+e+o),o},C=function(t,e,n,i,o){!function a(r){var s=b(t,e[r],n,i);v(s,function(t){t?r>=e.length-1?o(!0):a(r+1):o(!1)})}(0)},w=function(e,n,i,o){if(u(i.getLib))return i._extend(i.getLib),void o(i);if(i.offline)return void o(i._get_fallback_config());var a="geetest_"+h();t[a]=function(e){o("success"===e.status?e.data:e.status?i._get_fallback_config():e),t[a]=void 0;try{delete t[a]}catch(t){}},C(i.protocol,e,n,{gt:i.gt,callback:a},function(t){t&&o(i._get_fallback_config())})},y=function(t,e){var n={networkError:"网络错误"};if("function"!=typeof e.onError)throw new Error(n[t]);e.onError(n[t])};(function(){return!!t.Geetest})()&&(g.slide="loaded");var x=function(e,n){var i=new o(e);e.https?i.protocol="https://":e.protocol||(i.protocol=t.location.protocol+"//"),w([i.api_server||i.apiserver],i.type_path,i,function(e){var o=e.type,a=function(){i._extend(e),n(new t.Geetest(i))};f[o]=f[o]||[];var r=g[o]||"init";"init"===r?(g[o]="loading",f[o].push(a),C(i.protocol,e.static_servers||e.domains,e[o]||e.path,null,function(t){if(t)g[o]="fail",y("networkError",i);else{g[o]="loaded";for(var e=f[o],n=0,a=e.length;n<a;n+=1){var r=e[n];d(r)&&r()}f[o]=[]}})):"loaded"===r?a():"fail"===r?y("networkError",i):"loading"===r&&f[o].push(a)})};return t.initGeetest=x,x})}).call(e,n(257)(t))},379:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),a=i(o),r=n(260),s=i(r);e.default={data:function(){return{tip:{type:"error",info:""},loginData:{mobile:"",auth_code:"",geetest_challenge:"",geetest_validate:"",geetest_seccode:"",password:"",new_password:"",old_password:""},btntip:"获取验证码",btndis:!1,sure_password:"",sms_count:0,isRegisn:!0}},methods:{lostPassword:function(){this.$router.push({name:"LostPassword"})},resign:function(){this.$router.push({name:"Resign"})},checkMobile:function(){var t=""===this.loginData.mobile||!/^1[34578]\d{9}$/.test(this.loginData.mobile);return t&&(this.tip.type="error",this.tip.info="手机格式有误"),t},checkCode:function(){var t=""===this.loginData.auth_code;return t&&(this.tip.type="error",this.tip.info="验证码不能为空"),t},getVerifyCode:function(){if(this.checkMobile())return!1;this.waittip(),this.btndis=!0,this.requestCode()},requestCode:function(){var t=this;a.default.http("user_verify",this.loginData).then(function(t){},function(e){if(t.overwati(),10404===e.status)return t.isRegisn=!1,!1;10405===e.status?(t.sms_count=e.data.sms_count||0,t.sms_count>3&&t.initGeet()):e.status,t.tip.type="error",t.tip.info=e.message})},waittip:function(){var t=this,e=60;this.btntip="重新获取("+e+"s)",this.sit=setInterval(function(n){t.btntip="重新获取("+e--+"s)",-1===e&&t.overwati()},1e3)},overwati:function(){this.btntip="重新获取",this.btndis=!1,clearInterval(this.sit)},checkPassword:function(){var t=""===this.loginData.password;return t?(this.tip.type="error",this.tip.info="请输入密码",t=!0):this.loginData.password.length<6?(this.tip.type="error",this.tip.info="密码最小长度为6位",t=!0):this.loginData.password!==this.sure_password&&(this.tip.type="error",this.tip.info="两次输入密码不一致",t=!0),t},checkOldNewPassword:function(){var t=""===this.loginData.old_password;return t?(this.tip.type="error",this.tip.info="请输入原始密码",t=!0):this.loginData.new_password.length<6?(this.tip.type="error",this.tip.info="密码最小长度为6位",t=!0):this.loginData.new_password!==this.sure_password&&(this.tip.type="error",this.tip.info="两次输入密码不一致",t=!0),t},getCallBack:function(t){var e=this;if(!document.getElementById("captcha"))return!1;t.appendTo("#captcha"),t.onReady(function(){document.getElementById("wait").style.display="none"}),t.onSuccess(function(){var n=t.getValidate();e.loginData.geetest_challenge=n.geetest_challenge,e.loginData.geetest_validate=n.geetest_validate,e.loginData.geetest_seccode=n.geetest_seccode,e.requestCode()})},initGeet:function(){var t=this;a.default.http("user_get_captcha").then(function(e){var n=t;0===e.status&&(0,s.default)({gt:e.data.gt,challenge:e.data.challenge,offline:!e.data.success,new_captcha:e.data.new_captcha,product:"float",width:"100%",bg_color:"#262a35"},n.getCallBack)})}},created:function(){}}},434:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),a=i(o),r=n(379),s=i(r);e.default={mixins:[s.default],data:function(){return{type:0}},methods:{selectType:function(t){this.type=t,this.sms_count=0},login:function(){var t=this,e=this.loginData;if(1===this.type){if(this.checkMobile())return!1;if(this.checkCode())return!1;if(!(this.loginData.geetest_challenge&&this.loginData.geetest_seccode&&this.loginData.geetest_validate))return this.tip.type="error",this.tip.info="点击上方按钮进行验证",!1;a.default.http("user_login",e,"post").then(function(e){window.nextUrl?(t.$router.replace({name:"Main"}),window.location.href=window.location.origin+window.nextUrl,delete window.nextUrl):t.$router.replace({name:"Main"})}).catch(function(e){t.tip.type="error",t.tip.info=e.message})}else a.default.http("user_login_password",e,"post").then(function(e){window.nextUrl?(t.$router.replace({name:"Main"}),window.location.href=window.location.origin+window.nextUrl,delete window.nextUrl):t.$router.replace({name:"Main"})}).catch(function(e){t.tip.type="error",t.tip.info=e.message})}},created:function(){},destroyed:function(){clearInterval(this.sit)}}},444:function(t,e,n){e=t.exports=n(231)(),e.push([t.i,".login-box{position:absolute;width:430px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%)}.login-form{padding:46px 32px;background-color:#2f3543}.login-form_title{color:#91a3c0;font-size:1rem;font-weight:700}.login-tip{padding:0 16px;height:50px;line-height:50px;border:1px solid transparent}.login-tip .iconfont{font-size:1rem}.login-tip.error{color:#f15532;background-color:#feeeeb;border-color:currentColor}.login-select_content{border-bottom:1px solid #464e5c;box-sizing:border-box;vertical-align:middle}.login-select_content li{display:inline-block}.select-active{color:#48bbc0;box-sizing:border-box;border-bottom:1px solid #48bbc0}@media (max-width:414px){.login-box{width:300px}.login-form{padding:16px 15px}}","",{version:3,sources:["D:/sourceTreeItem/src/views/layout/Login.vue"],names:[],mappings:"AACA,WACE,kBAAmB,AACnB,YAAa,AAEb,SAAU,AACV,QAAS,AACT,sCAAyC,CAC1C,AACD,YACE,kBAAmB,AACnB,wBAA0B,CAC3B,AACD,kBACE,cAAe,AACf,eAAgB,AAChB,eAAkB,CACnB,AACD,WACE,eAAgB,AAChB,YAAa,AACb,iBAAkB,AAClB,4BAA8B,CAC/B,AACD,qBACI,cAAgB,CACnB,AACD,iBACI,cAAe,AACf,yBAA0B,AAC1B,yBAA2B,CAC9B,AACD,sBAEE,gCAAiC,AACjC,sBAAuB,AACvB,qBAAuB,CACxB,AACD,yBACI,oBAAsB,CACzB,AACD,eACE,cAAe,AACf,sBAAuB,AACvB,+BAAiC,CAClC,AACD,yBACA,WACI,WAAa,CAChB,AACD,YACI,iBAAmB,CACtB,CACA",file:"Login.vue",sourcesContent:["\n.login-box {\n  position: absolute;\n  width: 430px;\n  /*height:677px;*/\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n}\n.login-form {\n  padding: 46px 32px;\n  background-color: #2f3543;\n}\n.login-form_title {\n  color: #91a3c0;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.login-tip {\n  padding: 0 16px;\n  height: 50px;\n  line-height: 50px;\n  border: 1px solid transparent;\n}\n.login-tip .iconfont {\n    font-size: 1rem;\n}\n.login-tip.error {\n    color: #f15532;\n    background-color: #feeeeb;\n    border-color: currentColor;\n}\n.login-select_content {\n  /*line-height:60px;*/\n  border-bottom: #464E5C 1px solid;\n  box-sizing: border-box;\n  vertical-align: middle;\n}\n.login-select_content li {\n    display: inline-block;\n}\n.select-active {\n  color: #48bbc0;\n  box-sizing: border-box;\n  border-bottom: #48bbc0 1px solid;\n}\n@media (max-width: 414px) {\n.login-box {\n    width: 300px;\n}\n.login-form {\n    padding: 16px 15px;\n}\n}\n"],sourceRoot:""}])},465:function(t,e,n){var i=n(444);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(232)("0566f874",i,!0)},507:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-login",attrs:{id:"app"}},[n("div",{staticClass:"login-box"},[n("div",{staticClass:"login-form m-b32"},[n("div",{staticClass:"login-select_content m-b32"},[n("m-btn",{staticClass:"btn theme-dft",class:0==t.type?"select-active":"",nativeOn:{click:function(e){t.selectType(0)}}},[t._v("密码登录")]),t._v(" "),n("m-btn",{staticClass:"btn theme-dft",class:1==t.type?"select-active":"",nativeOn:{click:function(e){t.selectType(1)}}},[t._v("验证码登录")])],1),t._v(" "),t.tip.info?n("div",{staticClass:"login-tip m-b16",class:t.tip.type},[n("i",{staticClass:"iconfont icon-xinxi-yin vam"}),t._v(" "),n("span",{staticClass:"vam"},[t._v(t._s(t.tip.info))])]):t._e(),t._v(" "),n("div",{staticClass:"login-form_inp m-b16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.mobile,expression:"loginData.mobile"}],attrs:{type:"text",placeholder:"请输入电话号码"},domProps:{value:t.loginData.mobile},on:{input:function(e){e.target.composing||t.$set(t.loginData,"mobile",e.target.value)}}}),t._v(" "),n("i",{staticClass:"iconfont icon-shouji"})]),t._v(" "),0==t.type?n("div",{staticClass:"login-form_inp m-b16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.password,expression:"loginData.password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.loginData.password},on:{input:function(e){e.target.composing||t.$set(t.loginData,"password",e.target.value)}}}),t._v(" "),n("i",{staticClass:"iconfont icon-mima"})]):n("div",[t.sms_count>3?n("div",{staticClass:"m-b16",attrs:{id:"captcha"}},[n("div",{attrs:{id:"wait"}},[t._v("载入中……")])]):t._e(),t._v(" "),n("div",{staticClass:"login-form_inp m-b16"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.auth_code,expression:"loginData.auth_code"}],attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.loginData.auth_code},on:{input:function(e){e.target.composing||t.$set(t.loginData,"auth_code",e.target.value)}}}),t._v(" "),n("m-btn",{attrs:{sizeh:-1,disabled:t.btndis},nativeOn:{click:function(e){t.getVerifyCode(e)}}},[t._v(t._s(t.btntip))])],1)]),t._v(" "),n("m-btn",{staticClass:"login-form_sure m-b16",attrs:{sizeh:50},nativeOn:{click:function(e){t.login(e)}}},[t._v("登录")]),t._v(" "),n("div",{staticClass:"flex-space-between"},[n("span",{},[t._v("还没有账号？"),n("m-btn",{staticClass:"primary_txt",nativeOn:{click:function(e){t.resign(e)}}},[t._v("免费注册")])],1),t._v(" "),n("span",{},[n("m-btn",{staticClass:"primary_txt",nativeOn:{click:function(e){t.lostPassword(e)}}},[t._v("忘记密码")])],1)])],1),t._v(" "),n("div",{staticClass:"text-center"},[t._v("厦门十全十美网络科技有限公司")])])])},staticRenderFns:[]}}});
//# sourceMappingURL=12.3640970f5ac02828999d.js.map